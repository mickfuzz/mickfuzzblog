<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
  <title>Making Games in Phaser and Glitch using Game Design Patterns</title>
  <meta name="generator" content="Jekyll v3.9.3" />
  <meta property="og:title" content="Game Patterns" />
  <meta property="og:locale" content="en_US" />
  <meta name="description" content="getting-started-making-a-platformer-test1" />
  <meta property="og:description" content="getting-started-making-a-platformer-test1" />

  <meta property="og:site_name" content="make code platformer" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary" />
  <meta property="twitter:title" content="Making Games in Phaser using Game Design Patterns" />

<link rel="stylesheet" href="assets/css/style.css">
<!-- <link href="https://web.archive.org/web/20210301145712cs_/https://en.flossmanuals.net/static/themes/academic/editor.css" rel="stylesheet" type="text/css"> -->
<link rel="stylesheet" href="newcss/newcss.css">
  <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

  <!-- Setup Google Analytics -->



  <!-- You can set your favicon here -->
  <!-- link rel="shortcut icon" type="image/x-icon" href="/makecode-platformer-101/favicon.ico" -->

  <!-- end custom head snippets -->

</head>

<body>



  <div id="floating-menu" class="floating-menu">




     <div>
       <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
     </div>
    <h4>GETTING STARTED</h4>

    <div>
      <a href="#introduction" >Introduction</a>
    </div>
    <div>
      <a href="#jumping-right-in" >Jumping Right In</a>
    </div>
    <div>
      <a href="#choose-your-own-adventure" >Choose your own Adventure</a>
    </div>

    <h4>CODING FROM SCRATCH</h4>
    <div>
      <a href="#building-a-world" >Building a World</a>
    </div>
    <div>
      <a href="#create-a-game-space" >Create a Game Space</a>
    </div>
    <div>
      <a href="#adding-movement" >Adding Movement</a>
    </div>
    <div>
      <a href="#adding-a-reward" >Adding a Reward</a>
    </div>
    <div>
      <a href="#hazards-and-enemies" >Hazards and Enemies</a>
    </div>
    <div>
      <a href="#adding-game-states" >Understanding our Game Structure </a>
    </div>

    <h4>GAME MECHANICS</h4>
    <div>
      <a href="#game-mechanic-add-moving-enemies" >Game Mechanic: Add Moving Enemies</a>
    </div>
    <div>
      <a href="#game-mechanic-jumping-on-enemies" >Game Mechanic: Jumping on Enemies</a>
    </div>
    <div>
      <a href="#game-mechanic-add-a-countdown-timer" >Game Mechanic: Add a Countdown Timer</a>
    </div>
    <div>
      <a href="#game-mechanic-longer-jumps-if-holding-jump-down" >Game Mechanic: Longer Jumps if Holding Jump Down</a>
    </div>
    <div>
      <a href="#game-mechanic-smaller-sprite-collision-boxes" >Game Mechanic: Smaller Sprite Collision Boxes</a>
    </div>
    <div>
      <a href="#game-mechanic-extra-lives" >Game Mechanic: Extra Lives</a>
    </div>
    <div>
      <a href="#game-mechanic-player-health" >Game Mechanic: Player Health</a>
    </div>
    <h4>ADDING POLISH</h4>



    <div>
      <a href="#polish-adding-our-own-sound-effects" >Polish: Adding our Own Sound Effects</a>
    </div>



    <div>
      <a href="#polish-add-animation-to-your-character" >Polish: Add Animation to your Character</a>
    </div>



    <div>
      <a href="#polish-add-soundtrack-music" >Polish: Add Soundtrack Music</a>
    </div>



    <div>
      <a href="#polish-animate-sprite-when-zapped" >Polish: Animate Sprite when Zapped</a>
    </div>



    <div>
      <a href="#polish-screen-shake" >Polish: Screen Shake</a>
    </div>



    <div>
      <a href="#polish-explosions-using-particles" >Polish: Explosions using Particles</a>
    </div>



    <h4>GAME SPACE</h4>



    <div>
      <a href="#polish-add-your-own-background" >Game Space: Add your own Background</a>
    </div>



    <div>
      <a href="#game-space-add-game-over-screen" >Game Space: Add Game Over Screen</a>
    </div>



    <div>
      <a href="#game-mechanic-extending-the-game-size" >Game Space: Extending the Game Size</a>
    </div>



    <div>
      <a href="#polish-scaling-our-game-and-sprites" >Game Space: Scaling Sprites</a>
    </div>



    <div>
      <a href="#game-space-adding-levels" >Game Space: Adding Levels</a>
    </div>



    <div>
      <a href="#game-mechanic-keys-and-doors" >Game Space: Keys and Doors</a>
    </div>



    <div>
      <a href="#polish-create-a-cut-opening-scene" >Game Space: Create a Cut / Opening Scene</a>
    </div>



    <div>
      <a href="#game-mechanic-adding-levels" >Game Space: Adding Levels with Json</a>
    </div>

  </div>


  <div class="menua">
  <span  onclick="openNav()">&#9776; Menu</span>
  <!-- <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Menu</span> -->

  <script>
  function openNav() {
    document.getElementById("floating-menu").style.width = "250px";
  }

  function closeNav() {
    document.getElementById("floating-menu").style.width = "0";
  }
  </script>
</div>
  <div class="container">
    <div class="row two-col">
      <div class="col-sm-12 col-lg-10 col-lg-offset-1">
        <div id="contenteditor">


          <h1 class="section">OPENING SCENE</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="introduction"></div>
              <h1>Introduction</h1>
              <p style="margin-left: 0px; text-align: left;"> Learning to code can be like a tricky puzzle to solve. At times you get stuck. It helps to have a project you really want to get working. In this book creating a Retro Platform Game is
                that project. Part one of this book is a structured start covering the basics. Part two encourages you to choose your own adventure, offering you a choice of many missions with supporting working code examples. This lets you add new
                features, complexity and style to make the starting game into your own designed game experience. </p>
              <p style="margin-left: 0px; text-align: left;"> We will make our games on the web in a code playground called Glitch.com.
                This means that we can easily share our coding creations as part of
                web pages. You can get your friends and
                family to play and test the games you create.</p>
              <h3>What this Book is and isn't</h3>
              <p>This book is:</p>
              <blockquote>
                <ul>
                  <li>a great way to get started making a simple 2D arcade style
                    game</li>
                  <li>a fun way to find out about the basics of the coding
                    process</li>
                  <li>an introduction to Javascript and some of the ways it does
                    things</li>
                  <li>a partner guide to support more hands-on collaborative
                    workshops</li>
                </ul>
              </blockquote>
              <p>This book has limits! It's a short book that you can progress
                through quickly. Here are some of the things that we don't
                cover;</p>
              <blockquote>
                <ul>
                  <li>Advanced 3D approaches to game making or any role playing
                    elements</li>
                  <li>Systematic ways to learn a programming language (we pick up
                    concepts when we need them)</li>
                  <li>Complete guide to the most advanced approaches to writing
                    game using the Phaser code library</li>
                </ul>
              </blockquote>
              <p>How we learn is described in more detail in a <a href="https://3m.flossmanuals.net/#how-we-learn-javascript-in-this-book/"> chapter in the Appendix</a>. In a nutshell. We learn by diving into the process of making games by
                tinkering with a simple (but slightly broken) grid game. Then you have the choice of either following a short course which covers the bare minimum of platform game or to keep tinkering/remix the grid game by choosing from a list of
                options to alter and extend it. </p>
              <h3>Playful group learning processes </h3>
              <p>This guide was offered originally as a support to group work. As such, it contains group starter and reflection activities. These are included at the end of this book in the appendices, so as not to interfere with the flow of someone
                working through this book to teach themselves.</p>
              <h2>Making Games on the Web using Glitch </h2>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 504.471px; height: 146.527px;"><img
                    style="width: 504.471px; height: 146.527px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/glitch_logo.png" alt=""
                    width="482" height="140"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>This book uses Glitch our working and learning space for games. At <strong>Glitch.com</strong> you have an editing area for your code on one tab of the browser and a preview area on another tab. We can also see our code side by side.
                This kind of website is called a <strong>Code Playground</strong>. Using Code Playgrounds skips having to set your own website and importantly they let you type in some web code and you can see a preview of the resulting webpage
                immediately. This quick feedback is great for beginner coders. We can see straight away when we have something right or when we have made a mistake that need correcting.</p>
              <p><br></p>
              <h2>Making Games using Phaser</h2>
              <p class="aloha-empty-paragraph"></p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: center;">
                <div class="image bk-image-editor" style="width: 418.648px; height: 358.991px;"><img
                    style="width: 418.648px; height: 358.991px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/phaser_smaller.png" alt="">
                </div>
              </div>
              <p>Phaser is a Javascript library which supports the creation of
                web games. Real game developers made it and other game developers
                use it. It's also a great choice to make retro games. Retro games have come back into fashion. They are fun and easy to play on home computer,
                consoles and especially on your phone. Parents play them with children and they are a great way to
                start learning how to make digital games.</p>
              <p>This book will help you create a game in a step by step way
                adding different game features along the way. It is inspired by and
                guided by some great tutorials that are out there on various
                websites. Particularly the work of Richard Davey at Phaser, end3r,
                Belen Albeza and Chris Mills at Mozilla and Thomas Palef at
                lessmilk.com.</p>
              <h3><b>Why Javascript for beginners? </b></h3>
              <p>Javascript is great learn as it is the language of the web. But even fans would admit that learning Javascript can be tricky and there are lot so different ways to do the same thing. A lot of beginner text coders and teachers stick
                to Python or other text code languages that are easier than Javascript. You can also avoid text code completely if you want to make games. Kodu, Scratch and Game Star Mechanic use a visual approach to coding games, where you snap
                together colour coded blocks. However, we think that the combination of tools like Phaser and Glitch and a supportive community of learners bring the use of this authentic language within grasp of beginners.</p>
              <h3>About the Phaser Community and Games</h3>
              <p>Richard Davey is the lead coder on the Phaser project. There are
                two main versions of Phaser in use. Phaser 2 and Phaser 3. This book
                looks at Phaser 2, as it is easier to start to learn. One
                thing that the community of people using Phaser to make games is
                very good at is sharing how they do it and helping others who get
                stuck. There are some fantastic resources available for free. A lot
                of these resources are available on the main Phaser website.There
                is also an online forum for when you get stuck as well here -
                <a href="http://www.html5gamedevs.com/forum/14-phaser-2/">http://www.html5gamedevs.com/forum/14-phaser-2/</a>
              </p>
              <p>There are some great games out there made with Phaser which we
                can look to for some inspiration. Here are a few of our
                favourites.</p>
              <p><strong>Dork Squad:</strong> Can you (and a partner) save the
                world from robots? Have you got what it takes? <a href="https://eoinmcg.itch.io/dork-squad">https://eoinmcg.itch.io/dork-squad</a></p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 680.303px; height: 360.039px;"><img
                    style="width: 680.303px; height: 360.039px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/dork-squad1_cr.png" alt=""
                    width="650" height="344"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p><strong>Grooow:</strong> Platformer game with puzzle elements!
                Pick up all the dots to advance to the next level. But be careful!
                The more you pick up, the heavier and bigger you get, and thus
                it'll be more difficult to move and jump! <a href="https://ladybenko.itch.io/grooow">https://ladybenko.itch.io/grooow</a></p>
              <p><strong>Cybertank:</strong> Guide the tank through the levels to
                collect the cubes and escape. Great sounds and retro graphics here.
                <a href="http://cybertank.paulp.ws/">http://cybertank.paulp.ws/</a>
              </p>
              <p><strong>Knife Hit:</strong> This game is created as part of a
                fantastic tutorial. It's a bit advanced for beginners but is definitely worth checking out. <a href="https://www.emanueleferonato.com/tag/knife-hit/">https://www.emanueleferonato.com/tag/knife-hit/</a></p>

              <p><br></p>
              <ol class="endnotes" dir="ltr"></ol>



            </div>



          </div>



          <h1 class="section">JUMPING RIGHT IN</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="jumping-right-in"></div>
              <h1>Jumping Right In</h1>
              <p>To get started, let's alter the graphics and game-play of a game that has
                already been made. This will
                help us to see some of the code involved before we have to start
                writing our own. This idea is to make the whole process seem
                less scary, by making quick changes which we can see the impact of. Like in a game, this quick feedback gives us a sense of control.</p>
              <h2>Getting started with the Glitch.com Codeplayground</h2>
              <p> We are just about to use Glitch to play and mess around with games. Here are a few things to help you get started.<br> </p>
              <ul>
                <li>You can hit the Fishes in the game playing window and choose <strong>Remix on Glitch</strong> to make a new copy of this game so you can make your own changes (only do this once!)<br></li>
                <li>The JS file with the game code should show by default but click on <strong>game.js</strong> in the list of files on the left if it doesn't</li>
                <li>After making your changes, click on <strong>Show Live</strong> and your browser will open a new tab allowing you to play again with the updates</li>
                <li>Keep the two tabs open and swap between the code view and your game view to make more updates </li>
                <li>Once you have started working, if you lose your code page then you can click on the Fishes and select <b>View Source</b> to make more change</li>
              </ul>
              <p> </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 555.001px; height: 145px;"><img
                    style="width: 555.001px; height: 145px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/glitch_overview_2.png" alt=""
                    width="555" height="145"></div>
              </div><br>
              <p class="aloha-empty-paragraph"></p>
              <h2><br></h2>
              <p><br></p>
              <h2>Have a play with a simple platform game</h2>
              <p>Play this game using the cursor keys
                to move - <a href="https://grid-game-template.glitch.me/">https://grid-game-template.glitch.me/</a></p>
              <p>You may notice that <b>the game is impossible</b>. It is. But the good news is we can fix it. To do this
                hit the two fishes at the top right of the screen and choose
                <strong>Remix on Glitch. </strong>Remixing means we create our own version of the game that we can change. You now have the following challenges which are available as a <a
                  href="https://docs.google.com/presentation/d/1fZYko5dL-r3RHF6NZsLyZspBE77K8XIfLgnZ2HFj58Q/edit#slide=id.p"> printed document of cards here.</a>
              </p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.295px; height: 504.471px;"><strong><img
                      style="width: 837.295px; height: 504.471px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/glitch_overview_1.png" alt=""
                      width="800" height="482"></strong></div>
              </div>
              <p class=""> What follows is a list of the kinds of changes that are suggested on the cards. </p>
              <p><strong>Starting challenge - Change Gravity: </strong>find the gravity variable and to change the number so that you can
                complete the game. To do this change the following line. </p>
              <pre>  var gravity = 500;
</pre>
              <p><b>Starting challenge - Change Background Colour:</b> You can Change the background colour of the game. <br></p>

              <pre>  game.stage.backgroundColor = "#5699ab";
</pre>

              <p><b>Starting challenge - Change Velocity Settings: </b>You may think the game is a bit slow, changing velocity lets your character moves
                faster to the left and the right and up when jumping. Play with the following lines</p>

              <pre>  var velocity_x = 100;
  var velocity_y = 300;
</pre>

              <p><strong>Next level challenge - Add more hazards and coins: </strong>change the game so that there are more hazards and coins, do
                this by altering the o's and h's in the grid shown in the code example below</p>
              <pre>    // Design the level. x = platform, o = coin, h = hazard.
    var level1 = [
        "                 ",
        "                 ",
        "    o            ",
        "  h              ",
        "  xxxxx          ",
</pre>
              <p><strong>Next level challenge </strong><b>- Make your own pixel art</b>: see the help section below for how to use piskel and import those images into your game.
              </p>
              <p><strong>Next level challenge - change the platform layout: </strong>change the platform layout of the game to make it more challenging alter the x's in the grid code show below</p>
              <p><strong>Boss level challenge - Balance your game: </strong>- Use all your knowledge of velocity and gravity and the
                placement your platform, hazard and coins to make a challenging
                game that is still possible to beat</p>
              <h2>Create your own characters
              </h2>
              <p>We can use a online sprite / pixel art editor to add our own
                characters. There are many tools you can use but let's use an
                online editor called Piskel. You don't have to log in but it can be
                a good idea to do so you can save your work. To get started point your browser to <a href="https://www.piskelapp.com/">https://www.piskelapp.com/</a> and
                click on <strong>Create Sprite.</strong></p>
              <p>When you create your sprite, by default it creates one
                <strong>32 pixels high</strong> and <strong>32 pixels
                  wide</strong>. This is perfect for our game.
              </p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.295px; height: 405.043px;"><img
                    style="width: 837.295px; height: 405.043px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/pskl_1.png" alt=""
                    width="800" height="387"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>Piskel is a pretty intuitive tool to use so we're not going to
                give you full instructions for how to make your character here. But
                here are a few tips.</p>
              <ol>
                <li>In your tool bar on the left, you can select the different
                  icons to draw and edit your images.</li>
                <li>You can change the size of your drawing tool by clicking on the
                  different sized squares above the toolbar.</li>
                <li>You can change the colour of your drawing tool by clicking on
                  the block of colour below the tool bar</li>
                <li>It is possible to create animated sprites by clicking on <b>Add
                    new frame</b> or duplicating your existing frame</li>
              </ol>
              <p>Let's start with a one frame static Sprite. When you are happy
                with the single frame you have created we are going to export
                it. Click on the <b>export icon</b> - a mountain - on the right.</p>
              <p>We are going to export a PNG image to a bit of code called a
                data URI. So click on the <strong>PNG</strong> tab and then select
                the<b> Open</b> option under <b>Spritesheet data-uri export</b>.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 321.314px; height: 420.741px;"><img
                    style="width: 321.314px; height: 420.741px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/piskel_exp.png" alt="">
                </div>
              </div>
              <p>A <strong>Data URI</strong> is a way of saving an image or other
                kind of data as a long-ish stream of code. It looks kind of scary
                but we don't need to understand it at all. We just need to know
                what to do with it. Now copy the text that appears on the screen to your computers
                clip board using <b>Control + C</b> on your keyboard or right clicking the mouse and choosing <b>Copy</b>. This is our image as data.</p>


              <p class="">We are now ready to go back to the game code to add our own
                character. Look for the piece of code that says:</p>
              <pre>game.load.image("player", "https://cdn.glitch.com/05027ea3-803e-2Fplayer.png");<br></pre>
              <p>Replace the code between the last set of quote marks. Make sure to keep the "player" part there. Just replace that code that is highlighted in the image below with the code you just copied. To do this you can use <b>Control + V</b>
                on the keyboard or right click and choose <b>Paste</b>. <br></p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 815.318px; height: 82.683px;"><img
                    style="width: 815.318px; height: 82.683px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/code_careful.png" alt="">
                </div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>Let's see what that looks like by clicking on <b>Show Live</b> to see our gave. You should now see your character as the
                player in the game. If it doesn't work then go back to your code and try the process
                again. It is easy to make mistakes when copying and pasting like
                this. Part of our job is to get used to making these kinds of
                mistakes and going back and fixing them.</p>
              <h3>Extra Activity</h3>
              <p>If you have more time then you can do the same process of making
                your own pixel art for the following:</p>
              <ul>
                <li>replace the yellow blocks coins with your own design of a
                  reward, a coin, star or simlar</li>
                <li>replace the red hazards block with an image that students have
                  to avoid</li>
                <li>replace the blue blocks with your own image of a platform<br></li>
              </ul>
              <h2>Debugging your code in Glitch.com<br></h2>
              <p>So that's it. We have done our first bit of Javascript coding.
                Ok, we didn't write the game from scratch. But a lot of coding is
                about adapting what someone else had done before. A lot of the code we are going to meet can
                be quite readable. Take the following code.</p>
              <pre>game.load.image("player", "http://digitalducks.org/images/ggc/player.png");</pre>
              <p>Some of the language is very similar to real English this. Here
                this line <strong>loads</strong> an <strong>image</strong> into the
                <strong>game</strong> and gives it the name
                <strong>player</strong>. At the same time, somethings look quite intimidating. There are "double quotes", normal brackets (), curly
                brackets{}. These do all do slightly different things. Don't worry, we'll pick
                them up as we go along by looking at and writing our code.
              </p>
              <p><b>The Glitch website can help us</b> if we do make a mistake and the code stops working. Imagine you paste in some code from Piskel, it is easy to delete some code at the end - say the <em><strong>");</strong></em> -. You end up
                with the following</p>
              <pre>game.load.image("player", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA
     EUgAAAB4AAAAeCAYAAAA7MK6iAAAAKUlEQVRIie3NoQEAAAgD

</pre>
              <p>This is not going to work and will give us an error, hopefully
                one that we we can use to help us work out where the problem is. In
                this case it does give an error as shown by the <b>red dot</b>.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 768.221px; height: 59.6573px;"><img
                    style="width: 768.221px; height: 59.6573px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/glitch_overview_4.png" alt=""
                    width="734" height="57"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>Hover over this red dot to see the full error.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 769.267px; height: 76.4032px;"><img
                    style="width: 769.267px; height: 76.4032px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/glitch_overview_5.png" alt=""
                    width="735" height="73"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>

              <p>In this case, there is a similar line of code following it. So
                to correct our code we can see how it is different from that line
                and see that we need to type the missing ending code of
                <em><strong>"); </strong></em>If we add that back in then we can say we have fixed a <b>bug</b>. Debugging is finding and solving errors in our code.
              </p>
              <p>If we have other mistakes we could try some of the
                following:</p>
              <ul>
                <li>reading the error message to see if it tells us what kind or error
                  it is</li>
                <li>looking at the relevant line of code and comparing it to other
                  similar ones in our program (is there anything different/ missing
                  here)</li>
                <li>if that doesn't work try going back to the original project
                  that you remixed from, view the source it again to see the working code and
                  then comparing that working code your broken code</li>
                <li>If you are still stuck then you can click on the &lt;&lt; icon on the bottom left of your project to rewind the work you have one by minutes or even days. <br>
                  <div class="group_img" style="text-align: left;">
                    <div class="image bk-image-editor" style="width: 693.909px; height: 175.832px;"><img
                        style="width: 693.909px; height: 175.832px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/rewind_glitch.png" alt="">
                    </div>
                  </div><br><br>
                </li>
              </ul>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="choose-your-own-adventure"></div>
              <h1>Choose your own Adventure</h1>
              <p>There are different ways you can use this book to learn to make your own games. Normally books encourage you to start at the beginning and keep reading until you get to the end but this book isn't (just) like that. The reason is that
                different people learn how to code and make games in different ways. Also different people have different inspirations that keep them interested and motivated.</p>
              <p>This is also true of the way that people play games. There's a well known model of different play style types by Richard Bartle. This model, which was based on observing and analyzing the behaviors people playing together in a
                multi-user game, holds that there are four different kinds of play style interests, each of which is given a descriptive name: Griefers, Achievers, Explorers, and Socializers.<sup class="endnote"
                  data-id="f857f158-b619-48cb-b0dd-b7c74c54dd3d"><a href="#endnote-f857f158-b619-48cb-b0dd-b7c74c54dd3d">1</a></sup></p>
              <ul>
                <li><strong>Griefers</strong>: interfere with the functioning of the game world or the play experience of other players</li>
                <li><strong>Achievers</strong>: accumulate status tokens by beating the rules-based challenges of the game world</li>
                <li><strong>Explorers</strong>: discover the systems governing the operation of the game world</li>
                <li><strong>Socializers</strong>: form relationships with other players by telling stories within the game world</li>
              </ul>
              <p>Different kinds of games suit different play styles. One of the notable successes of recent years have been open world games that allow you to choose how you play the game. If you want to stick to the main missions you can follow
                guidance to do that but if you just want to explore or be social or mess around you have the chance to to do that too.</p>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 863.462px; height: 485.632px;"><img
                    style="width: 863.462px; height: 485.632px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/the-legend-of-zelda-history.jpeg" alt="">
                </div>
              </div>
              <p>In the same way there are different styles of making games. I'm proposing the following;</p>
              <ul>
                <li><strong>Social makers:</strong> form relationships with other game makers and players by finding out more about their work and telling stories in their game</li>
                <li><strong>Planners:</strong> like to study to get a full knowledge of the tools and what is possible before they build up their game step-by-step</li>
                <li><strong>Magpie makers:</strong> like trying out lots of different things and happy to borrow code, images and sound from anywhere for quick results</li>
                <li><strong>Glitchers:</strong> mess around with the code trying to see if they can break it interesting ways and cause a bit of havoc</li>
              </ul>
              <h3><strong>Open World vs On Rails Learning</strong></h3>
              <div>A lot of learning and guides suit the <b>planners</b> of this world. They start with a blank canvas and allows you build up your game step by step explaining just about every line of code that you add. This book does just
                that in the following handful of chapters, they take a structured approach to getting to a minimal platform game and give details of coding concepts (objects, functions, variables, loops and conditionals) in a logical order using
                concrete examples from our emerging game. This approach is called building up code "From Scratch".</div>
              <div><b>This book aims to support learners who like a more "Open World" approach to learning.</b> To do this the later sections of this book take a different approach to helping you make games. You are encouraged to various
                different game features in what ever order you like. The chapters are much shorter and designed to be self-contained. Almost like little side or social missions that you get in great open world games. If you like experimenting you can
                skip the next set of chapters and user the starting <a href="https://glitch.com/~grid-game-template">Grid Game Template</a><sup class="endnote" data-id="6c3ee05e-62b5-4299-bb7b-8a69431ded0e"><a
                    href="#endnote-6c3ee05e-62b5-4299-bb7b-8a69431ded0e">2</a></sup> <span>as your jumping off point. You can Remix this game to add in new features and looks right away. If you have been following this book you would have done that
                  in the first chapter.<br></span></div>
              <p>But to help get an overview of what's there let's look in a bit more depth about what makes a good game.</p>
              <h2>What makes up a Game?</h2>
              <p>We play them all the time but did you ever ask - What exactly is a game? How is it different from just playing around? The Institute of play list key components that make up a game, be it video or non-digital game. They are
                as follows.</p>
              <ul>
                <li><strong>Goal:</strong> The overall goal of the game, what do you have to do to win</li>
                <li><strong>Parts:</strong> What parts make up the mechanisms of playing, this could be physical, like dice or cards, or digital like our enemies, player and other hazards</li>
                <li><strong>Rules:</strong> Relationships that define what a player can and cannot do in the game. If...then...or you may...you may not... are good sentence starters for rule making</li>
                <li><strong>Challenge:</strong> Obstacles might you put in the player’s way to make reaching the goal fun and interesting</li>
                <li><strong><strong>Space:</strong></strong> Where the game take place and how that space affects the game</li>
                <li><strong>Mechanics:</strong> The core actions or moves does the player has to do to power the play of the game</li>
              </ul>
              <div>The Institute of Play encourage you to think about these different elements of a game to allow you to start to make your own game or to start <strong>modding</strong> or remxing an existing game. Modding is modifying a game that
                already exists. </div>
              <h3>Our own Framework for Game Elements</h3>
              <div>The above framework is great for a deep analysis of how the different parts of your game interact. Frameworks can be great to help us map our journeys. To help us do that we have a simplified framework which has evolved
                looking at the different requests that our learners make to add different elements to games. </div>
              <div>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                      style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/three_game_elements.png" alt="">
                  </div>
                </div><br>
              </div>
              <div>This framework consists of Core Parts, Game Mechanics, Game Space and Game Polish. <b>Core parts</b> of our game are similar, this involves the individual elements of the game and their attributes, we may add more enemies
                for example. <b>Game Mechanics</b> in our definitions is about what you do in the game. Where game parts are nouns and mechanics are verbs. So for our platform core mechanics would be jumping and collecting. However some of our
                mechanics are a bit more like more like extra challenges or rules, like adding a timer. So this is a fairly wide definition of game mechanic in line with<a href="http://gamestudies.org/0802/articles/sicart"> broader definition from
                  Sicart</a><sup class="endnote" data-id="1554888824262"><a href="#endnote-1554888824262">3</a></sup>. <b>Game Space</b> includes the design or new levels and anything that opens up space like keys and doors or scrolling screens. <br>
              </div>
              <div><b>Game Polish</b> or game aesthetics is a dimension identified as one of the <a href="http://www.gamification.co/2013/09/24/adapt-gamification-designs-with-jesse-schells-four-pillars/"> four pillars of game design</a> by
                game theorist Jesse Schell <sup class="endnote" data-id="8972e733-a237-4157-9ae4-d1e2dc511c36"><a href="#endnote-8972e733-a237-4157-9ae4-d1e2dc511c36">4</a></sup><span>. He makes a distinction between the mechanics of the game, system
                  elements that effect the core functioning of how the players interact with the game and that of the game aesthetics. </span>Aesthetics here are the wrapping of the game, not core to how it works but which have an effect of the game
                on the emotions and state of mind of the player. For example the flavour of the graphics and the sound design.</div>
              <h2>Adding / Changing Game Mechanics</h2>
              <p>
                What game mechanics can we add to our platform game? You can choose from some of the following.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 323.404px;"><img
                    style="width: 898px; height: 323.404px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/montage_mech_wide.png" alt="">
                </div>
              </div>
              <ul>
                <li><b><a href="#game-mechanic-add-moving-enemies">Adding Moving Enemies:</a></b> make it harder for your players to get past your enemies<br></li>
                <li><strong><a href="#game-mechanic-jumping-on-enemies">Jumping on Enemies</a>:</strong> to make them disappear, a mechanic made famous by Mario<br></li>
                <li><b><a href="#game-mechanic-longer-jumps-if-holding-jump-down">Variable Jumping Heights:</a></b> if you press down longer you jump higher</li>
                <li><strong><a href="#game-mechanic-smaller-sprite-collision-boxes">Smaller Collision Boxes</a>:</strong> If your game is too hard, you can set smaller hit boxes, lots of platform games do this</li>
                <li><a href="#game-mechanic-add-a-countdown-timer"><b>Add a Countdown timer: </b></a>this can increase the challenge of your levels, players must complete them before time runs out</li>
                <li><strong><a href="#game-mechanic-extra-lives">Extra Lives:</a></strong> if you touch a hazard you lose a life and have to restart with one less life (to come)
                </li>
                <li><strong><a href="#game-mechanic-player-health">Adding Player Health</a>:</strong> if you touch a hazard you lose health instead of losing a life</li>
              </ul>

              <h2>Adding Game Polish</h2>






              <div>Elements of Polish are often not core to how the game works as a system but the are key to how our player reacts to our game. The following changes can help.</div>
              <div>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 325.499px;"><img
                      style="width: 898px; height: 325.499px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/montage_polish_wide.png" alt="">
                  </div>
                </div><br>
              </div>
              <div>
                <ul>
                  <li><b><a href="#polish-adding-our-own-sound-effects">Add your own Sound Effects:</a></b> swapping out existing sounds and adding new ones for example when you jump<br></li>
                  <li><b><a href="#polish-add-animation-to-your-character">Add Animation to your character:</a></b> make them look like they are running or jumping</li>
                  <li><strong><a href="#polish-add-soundtrack-music">Add Soundtrack Music</a></strong>: have some music on a loop when game play is happening</li>
                  <li><strong><a href="#polish-animate-sprite-when-zapped">Animate Character when Zapped:</a></strong> here an animation is played when a player or character gets zapped<br></li>
                  <li><strong><a href="#polish-screen-shake">Screen Shake:</a></strong> mimicking a shaking screen to create a dramatic ending</li>
                  <li><strong><a href="#polish-explosions-using-particles">Explosion on Dying:</a></strong> use particles to mimic an explosion when a character dies</li>
                </ul>
                <h2>Changing Game Space</h2>
                <p> Here are some things you can change around the way you game uses space or give the player the feeling of exploring space. </p>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 324.452px;"><img
                      style="width: 898px; height: 324.452px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/montage_space_wide.png" alt="">
                  </div>
                </div>
                <ul>
                  <li><b><a href="#polish-add-your-own-background">Add your own Background:</a></b> you can create your own pixel art or drawn background to add to the game<br></li>
                  <li><a href="#game-space-add-game-over-screen"><b>Add Game Over Screen:</b></a> let your player know when they have failed!<br></li>
                  <li><a href="#polish-scaling-our-game-and-sprites"><b>Scaling our Game and Sprites</b></a>: this may be for aesthetic effect or could affect game mechanics too<br></li>
                  <li><b><a href="#game-space-adding-levels">Adding Levels:</a></b> This can increase the challenge of our game greatly<br></li>
                  <li><b><a href="#game-mechanic-extending-the-game-size">Extending the Game Size:</a></b> if you want your game to scroll as your player moves, this is how!<br></li>
                  <li><b><a href="#game-mechanic-keys-and-doors">Keys and Doors</a></b>: collect keys to open previously closed doors can add as sense of adventure to your platformer<br></li>
                  <li><a href="#polish-create-a-cut-opening-scene"><b>Create a Cut / Opening Scene:</b></a> A great way to introduce rules, info about your game or a story<br></li>
                  <li><a href="#game-mechanic-adding-levels"><b>Adding Levels with Json</b></a>: a neater way to create your levels and a way to find out more about data structures.</li>
                </ul>
                <h2>Go On Choose your own Adventure</h2>
                <p>So go on and choose how you want to progress. As described you can start from scratch and build up your code bit by by bit so you really understand how each part works. You can do this by following the next chapters
                  starting with <a href="#building-a-world">Building a World</a>. </p>
                <p>Alternatively, if you like to just jump in, you can keep changing the <a href="https://glitch.com/~grid-game-template">Grid Game code</a>, adding in graphics and tinkering around by adding things from the examples just
                  listed above. <a href="http://ggc-examples.glitch.me/">This page on Glitch also lists the code examples.<sup class="endnote" data-id="1555586500542"><a href="#endnote-1555586500542">5</a></sup></a><br></p>
                <h3>Meeting yourself in the middle</h3>
                <p>Another way to do this is to try both approaches at the same time. In this way you get all of the fun of adding in new exciting game elements to a working game but can back this up by following a logical structure as well.
                  To help you make a connection between the From Scratch approach and the tinkering with the Grid Game approach you can dive into the chapter called <a
                    href="/web/20210301145712/https://en.flossmanuals.net/phaser-game-making-in-glitch/adding-game-states/">Understanding our Game Structure</a>. If may want to read that when altering the Grid Game if you get confused when making
                  larger changes. <br></p>
                <p><br></p>
              </div>
              <ol class="endnotes" dir="ltr">
                <li id="endnote-f857f158-b619-48cb-b0dd-b7c74c54dd3d">https://www.gamasutra.com/view/feature/134842/personality_and_play_styles_a_.php</li>
                <li id="endnote-6c3ee05e-62b5-4299-bb7b-8a69431ded0e">https://grid-game-template.glitch.me/</li>
                <li id="endnote-1554888824262">http://gamestudies.org/0802/articles/sicart</li>
                <li id="endnote-8972e733-a237-4157-9ae4-d1e2dc511c36">Here's the book https://www.oreilly.com/library/view/the-art-of/9781466598645/ and here's a summary
                  http://www.gamification.co/2013/09/24/adapt-gamification-designs-with-jesse-schells-four-pillars/</li>
                <li id="endnote-1555586500542">http://ggc-examples.glitch.me/</li>
              </ol>



            </div>



          </div>



          <h1 class="section">CORE GAME PARTS</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="building-a-world"></div>
              <h1>Building a World</h1>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 837.2960000000002px; height: 261.655px;"><img style="width: 837.2960000000002px; height: 261.655px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                    src="images/core_build_world_full.png" alt="">
                </div>
              </div>
              <p>Let's get started by creating a game world and adding a player to it. Many web developers use a <span class="ins cts-1" data-username="Alex Yant" data-cid="3" data-userid="techwriteralex"
                  data-time="1570897090090">c</span><strong><span class="del cts-1" data-username="Alex Yant" data-cid="2" data-userid="techwriteralex" data-time="1570897089948">C</span>ode <span class="ins cts-1" data-username="Alex Yant"
                    data-cid="5" data-userid="techwriteralex" data-time="1570897093169">p</span><span class="del cts-1" data-username="Alex Yant" data-cid="4" data-userid="techwriteralex" data-time="1570897092912">P</span>layground</strong> to
                quickly and easily share a working version of their code as a webpage, or part of a page. Using<span class="ins cts-1" data-username="Alex Yant" data-cid="10" data-userid="techwriteralex" data-time="1570897107245"> a</span> <span
                  class="ins cts-1" data-username="Alex Yant" data-cid="7" data-userid="techwriteralex" data-time="1570897096475">c</span><span class="del cts-1" data-username="Alex Yant" data-cid="6" data-userid="techwriteralex"
                  data-time="1570897096354">C</span>ode <span class="ins cts-1" data-username="Alex Yant" data-cid="9" data-userid="techwriteralex" data-time="1570897098628">p</span><span class="del cts-1" data-username="Alex Yant" data-cid="8"
                  data-userid="techwriteralex" data-time="1570897098423">P</span>layground<span class="del cts-1" data-username="Alex Yant" data-cid="12" data-userid="techwriteralex" data-time="1570897110186">s</span> is much easier then needing your
                own webspace. In some ways, all code playgrounds are similar. These tools let you type in code, and display a preview of the resulting webpage immediately. This quick feedback is great for beginner coders. We can immediately see when
                we have written something properly, and when we have made a mistake that needs correcting. In this book, we are using glitch.com as our code playground. <br></p>
              <h2>Creating a Game Area</h2>
              <p>Our first job is to create a <span class="ins cts-1" data-username="Alex Yant" data-cid="14" data-userid="techwriteralex" data-time="1570897123783">g</span><span class="del cts-1" data-username="Alex Yant" data-cid="13"
                  data-userid="techwriteralex" data-time="1570897123643">G</span>ame <span class="ins cts-1" data-username="Alex Yant" data-cid="16" data-userid="techwriteralex" data-time="1570897125801">a</span><span class="del cts-1"
                  data-username="Alex Yant" data-cid="15" data-userid="techwriteralex" data-time="1570897125694">A</span>rea on a web<span class="del cts-1" data-username="Alex Yant" data-cid="17" data-userid="techwriteralex"
                  data-time="1570897128864"> </span>page. To create
                a game area, we should decide how big it should be on the
                screen<span class="ins cts-1" data-username="Alex Yant" data-cid="37" data-userid="techwriteralex" data-time="1570897153261">, as well as its</span> <span class="del cts-1" data-username="Alex Yant" data-cid="24"
                  data-userid="techwriteralex" data-time="1570897149833">and also what</span> shape<span class="del cts-1" data-username="Alex Yant" data-cid="18" data-userid="techwriteralex" data-time="1570897145094"> it is</span>.</p>
              <div class="group_img" style="text-align: center;">
                <div class="image bk-image-editor" style="width: 669.8370000000001px; height: 502.37800000000004px;"><img class=""
                    style="width: 669.8370000000001px; height: 502.37800000000004px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/smb_2.png" alt="">
                </div>
              </div>
              <p> For our project, we will be harkening back to a golden age of video consoles: the 8-bit of Nintendo and Sega home video consoles. <strong>Game sizes are normally measured in pixels (px); </strong>Pixels are the size of the
                smallest dot on the screen. Because Mario is such a well known game character, we will use him as an example to get a sense of our game scale. Early Mario Bros. games had a screen size of <strong>256 px wide by
                  224 px high</strong> (256 x 224). Let's increase the game size to <strong>400 x 300
                  pixels,</strong> to give us a bit more room to play. Now that we know our game size,
                we need to create a game space using code.<br></p>
              <p>One of the great things about using a code playground is the
                ability to <b>R</b><strong>emix</strong> the work of others and use
                existing code as a template starting point. Lets give it a try. Our game will be made up of Javascript, living within
                an HTML page that will link to the Phaser library and our own
                Javascript game code. </p>
              <p>To begin:</p>
              <p style="margin-left: 48px;">1. Go to <a href="https://glitch.com/edit/#!/baw-chapter-starting-frame?path=game.js">https://glitch.com/edit/#!/baw-chapter-starting-frame?path=game.js</a></p>
              <p style="margin-left: 48px;">2. Click on the fish in the top right </p>
              <p style="margin-left: 48px;">3. Click <b>R</b><strong>emix on Glitch. </strong>At this point you should probably also click Sign In and create
                an account to save your work. </p>
              <p style="margin-left: 48px;">4. Add the following code into the game.js file under the line
                that says <em><strong>//start your code here</strong></em></p>
              <pre>  var game = new Phaser.Game(400, 300);<br></pre>
              <p style="margin-left: 48px;">5. Click <strong>Show Live. </strong>You should see a new
                browser tab open and now see a black area appear on the top left of
                the screen.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 652.044px; height: 334.918px;"><img class=""
                    style="width: 652.044px; height: 334.918px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%); transform: translate(-18.130641330166274px, -13.864608076009501px) rotate(0deg) scaleX(1) scaleY(1);"
                    src="images/framework_ph.png" alt="" width="623" height="320">
                </div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>This may not seem like much but it's a great step forward. It
                means that the phaser library is up and running in your page and
                has created a game space ready for us to fill with interesting
                things.</p>
              <p>We are now going to create a bit of code called an object that
                will give us a structure for a lot of our most important game
                elements. Write the following code in game.js underneath the line
                your have already written .</p>
              <pre>  var playState = {};

  var playState.preload = function() {
  };
  var playState.create = function() {
  };
  var playState.update = function() {
  };

  game.state.add("play", playState);
  game.state.start("play");</pre>
              <p>Let's explain that code a bit. The first line creates an object for the main part of our game
                where we play the game. This is called the <strong>playState</strong> object. It's the only game state object we need to worry about now but we can add a game over state and welcome state later if we want to.</p>
              <p>The three statements after it add three functions to this
                object. The functions here form a useful structure for our code
                allowing us to organise it. The structure is based around when each
                part of the code needs to run. The sections run in the following
                order;</p>
              <ul>
                <li><strong>preload:</strong> add code here to preload images and
                  other assets for the game</li>
                <li><strong>create</strong>: this code runs after preload and is
                  where we add images and other elements to the game</li>
                <li><strong>update:</strong> this sections runs over and over again
                  for as long as the game is playing</li>
              </ul>
              <p>The last two lines add this code (a state object) to the game
                and say that this is the first bit of code to run when the game
                starts. We will explore this more later as we start to add more
                complicated code. For now we can type it and forget about it for a
                bit.</p>
              <h2>Adding a Player to the Game Area</h2>
              <p>We can add a player in a similar way. However as we are going to
                do more with our player we need to change how we add them a
                bit. Add <i>var player</i>; above the line where you create the
                <strong>playState</strong> object e.g.<br>
              </p>
              <pre>  var player;
  var playState = {};  </pre>
              <p>Putting this line where we <i>declare</i> the player variable outside of the
                playState object means that all the different functions (like preload(),
                create() and update() will be able to work with it. This will be
                useful later.</p>
              <p>Add the following code to the <strong>preload function<br></strong></p>
              <pre>  game.load.image("player", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fhero_stopped.png");
</pre>
              <p>And the following to the <strong>create function<br></strong></p>
              <pre>  player = game.add.sprite(0, 0, 'player');
</pre>
              <p>Your screen should now show a player added at
                the top left corner. The top left of the player is added at co-ordinates <strong>x:0
                  and y:0</strong></p>
              <h2>Adding Gravity to our player</h2>
              <p>At the moment our Player is stuck at the top of our game.
                Normally in a platform game gravity acts to pull down our player
                towards the floor. We can add gravity to the player to make this happen. Gravity is
                one of the game elements that are dealt with by the Physics system.
                To add physics abilities to all the game world elements add the
                following lines right at the start of the <strong>create function</strong>
                code.</p>
              <pre>  game.physics.startSystem(Phaser.Physics.ARCADE);
  game.world.enableBody = true;</pre>
              <p>Then add the following line of code in create after where you
                add player to the game.</p>
              <pre>  player.body.gravity.y = 500; </pre>
              <p>Your player should now fall from the top of the screen when you
                run your code. Gravity works! But the player falls all the way off the screen
                so it is no longer visible. This is not idea for out game. Later
                will add platforms but for now we will just stop the player from
                leaving the screen. We do this using the collideWorldBounds
                capability. Add the following line after your last one in
                <strong>create function</strong>.
              </p>
              <pre>  player.body.collideWorldBounds = true;</pre>
              <p>The player should now stop when it falls to the bottom of the
                screen. If this all seems a bit basic to you <strong>Don't
                  Worry</strong> we are actually going great guns here! We've already
                got past some of the biggest barriers to getting started making a web game.</p>
              <h2>Check your Code</h2>
              <p>If you have followed this chapter correctly should should have
                some code like the following area - <a href="https://glitch.com/edit/#!/building-a-world-chapter?path=game.js">https://glitch.com/edit/#!/building-a-world-chapter?path=game.js</a></p>
              <div></div>
              <h3>Understanding Sequencing</h3>
              <p>One of the key concepts in computer programming is the
                importance of the sequence of the computer commands that you write
                and how they are run. In each of our functions the computer - or code compiler more
                correctly - will read our code from the first line of the function
                to the last. This means that it is important to make sure our code
                is in a logical order. There is a good beginner resources on
                sequencing here - <a href="https://www.bbc.com/bitesize/guides/zsf8d2p/revision/1">https://www.bbc.com/bitesize/guides/zsf8d2p/revision/1</a></p>
              <p>To give an example we can look at the lines of code which
                add</p>
              <pre>  player = game.add.sprite(0, 0, 'player');
  player.body.gravity.y = 500; </pre>
              <p>We can see here that first the player is added to the world and
                second the gravity value for that player is set. What happens if we swap over the order of these two lines? Try it out put the line with gravity above the line that adds player to the game. Then click on your <strong>Show
                  Live</strong> tab.</p>
              <p>Because the line setting the gravity
                property is before the line where the player is created it means that there is an error. The screen appears
                but our player doesn't load. The message here is that we need to have some awareness
                of what order we should be running different parts of our code and
                to pay attention to the sequence, the order that we put it in.<br></p>
              <h3>Variables and the var keyword</h3>
              <p>When coding we often create variables using the <em>var</em>
                keyword. A Variable means something we can create and change.
                Variables can be used to hold different kinds of information,
                numbers, words, true/false elements, and more complicated groups of
                elements called objects. In our code we create several variables <strong>player and
                  gravity are key ones.<br></strong></p>
              <p>To start using a variable we need to declare it using the
                <strong>var</strong> keyword. You can see that happens with player
                right at the start of the code. After that we can just use player
                to refer to the variable, we only use var when making it (declaring
                it). You may ask why do we list some variables at the start of the
                code or relevant functions. This helps make our code simple to read and understand.<br>
              </p>
              <h3>Using functions and parameters<br></h3>
              <p>We have already written some functions in code. For the
                <strong>playState</strong> object we have written and added three
                functions to it; <strong>preload</strong>, <strong>create</strong>
                and <strong>update</strong>. We create and use these functions to
                help us to organise our code as they run in a particular order. The
                Phaser framework calls and runs the code in these functions one
                after the other as the web page loads.
              </p>
              <p>As well as creating our own functions, we will also meet other
                functions which area already written for us that we can use. These
                <strong>functions</strong> are also sometimes called
                <strong><em>method</em>s</strong>. To make things simpler in this
                book we will try to use only the term
                <strong>function</strong>. <br>
              </p>
              <p>Phaser contains pre-written functions which are bits of code
                that do certain jobs for us. We can recognise them by the use of
                brackets <em><strong>()</strong></em> after the name of the
                function being called. For example. here look at the following
                code.</p>
              <pre>    game.add.sprite(0, 0, "background");</pre>
              <p>Here we use a function of game called
                <em><strong>game.add.sprite()</strong></em> to create and add our
                new variable called player to the game object. Between the brackets
                we including three pieces of information called
                <strong>parameters</strong>. In other words in this line of code <b>we pass this function three parameters</b>. <br>
              </p>
              <p>The parameters passed to the function here are; the x
                co-ordinate 0, the y co-ordinate 0, and the name of the image to
                add 'background'. This particular function needs these bits of
                information to be able to do its job of adding the image passed to
                it at the right place in the game. We'll get used to passing
                <strong>parameters</strong> into <strong>functions</strong> as we
                go along. For now just try to be aware of these terms and try to
                understand how they are being used when you come across them.
              </p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="create-a-game-space"></div>
              <span class="del cts-1" data-username="Rhett" data-cid="10" data-userid="rbohling" data-time="1581749744769" title="">
                <h1>Create a Game Space</h1>
                <div class="group_img">
                  <div class="image bk-image-editor" style="width: 837.296px; height: 261.655px;"><img
                      style="width: 837.296px; height: 261.655px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/core_create_game_space.png" alt="">
                  </div>
                </div>
              </span>
              <p><span class="ins cts-1" data-username="Rhett" data-cid="8" data-userid="rbohling" data-time="1581749738358" title="">L</span>et's add some elements to make a more realistic game space.
                We use the platform game genre as that is easy to recognise
                and to create code for. Let's create some platforms for our player to jump onto and some
                coins to collect.</p>
              <h2>Creating a Group for our Platforms and Ground</h2>
              <p>We already know how to add images to our game but when we add
                our platforms we are going to do it in a way that allows us to
                change the properties of all the platforms at once. You will see
                how this will be useful in a bit. To do this we will first create a group, and then when we create
                each platform we will add them to that group. To add specific platforms we now need to follow this
                pattern.</p>
              <ul>
                <li>load images in preload</li>
                <li>add images in create</li>
                <li>add them to the platforms group</li>
                <li>add code to make the player stand on the platform</li>
              </ul>
              <p>First let's add the variable platforms to the start of our code.
                Change the code.</p>
              <pre>  var player;</pre>
              <p>so that it now reads</p>
              <pre>  var player;
  var platforms;</pre>
              <p>In the <strong>playState.preload</strong> function let's load up an image
                for ground and a platform.</p>
              <pre>  game.load.image("ground", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fground.png");
  game.load.image("grass:4x1", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fgrass_4x1.png");
</pre>

              <p>At the end of our the existing code in the <strong>plaSstate.create function</strong>
                let's add the code which creates a group in our game called
                platforms and enables body so that it can interact with other
                elements in the game.</p>
              <pre>  platforms = game.add.group();
  platforms.enableBody = true;</pre>
              <p>Now let's add this code after the above to create a ground for
                our player to stand on</p>
              <pre>  var ground = platforms.create(0, 275, 'ground');</pre>
              <p>Try running your code at this point. You will see that when the
                player sinks down behind the floor. To avoid this in <strong>playState.update:</strong> add this code</p>
              <pre>  game.physics.arcade.collide(player, platforms);</pre>
              <p>Try again and this time the player bumps the platform down out
                of sight. To avoid this add another line after your last one added to
                <strong>playState.create:</strong>.
              </p>
              <pre>  ground = platforms.create(0, 275, 'ground');
  ground.body.immovable = true;</pre>
              <p>Follow this pattern to add more platforms for the player to jump
                on<strong>.</strong></p>
              <pre>  var platform1 = platforms.create(150, 220, 'grass:4x1');
  platform1.body.immovable = true;

  var platform2 = platforms.create(250, 150, 'grass:4x1');
  platform2.body.immovable = true;

  var platform3 = platforms.create(75, 100, 'grass:4x1');
  platform3.body.immovable = true;<strong>
</strong></pre>
              <p>Feel
                free to change the location of your three platforms to make them
                more challenging.</p>
              <h2>Debugging Jumping</h2>
              <p class="">This game actually starts with a Glitch at this point that we
                have to fix. There is something not right about jumping here. We can jump
                when ever we want. This means we can jump right up to the top of
                the screen as if we were flying. This isn't what we want. We should only be able to jump when we are touching the ground.
                This will be is one the rules of our game and it is common to a lot
                of platform games. To make this happen we can use a conditional statement using
                <strong>if</strong>.
              </p>
              <p>Change the code which controls the up keyboard key to change the
                statement condition in the first line to be:</p>
              <pre>  if (game.input.keyboard.isDown(Phaser.Keyboard.UP) === true &amp;&amp; player.body.touching.down === true) {
    player.body.velocity.y = -300;
  }</pre>
              <p>This if statement now has has two conditions that need to be
                true before the code in brackets will run. The user must be
                pressing the UP key and the player character must be touching down
                on one of the platforms. If they are already jumping they will be
                in the air, and the player.body.touching.down property will be
                false and the code in the conditional block won't run. </p>
              <h2>Checking our Code
              </h2>
              <p>Have a look at the following Code area to check your code
                against what we think you should have. <a href="https://glitch.com/edit/#!/create-game-space-chapter?path=game.js">
                  https://glitch.com/edit/#!/create-game-space-chapter?path=game.js</a></p>
              <div></div>
              <h3>More on conditionals</h3>
              <p>As we can see in the code controlling jumping, there can be more
                conditions that needs to be true or false before a certain piece of
                code can run. In the last chapter we saw how the three options of
                <strong>if, if else</strong> and <strong>else</strong> provide a
                flexible way of providing different options of code to run
                depending on different user input and other conditions. Now let's
                look at the <strong>(condition)</strong> part of the statement.
              </p>
              <p>The process for this is known as True / False or Boolean Logic
                and even though we are dealing only with different options which
                are all true or false it can quickly get confusing. Let's take a simple example where were are testing if something
                is true. We can use the === comparison operator to check this in
                our conditional testing statement. Let's say we are testing to see
                if it is raining.</p>
              <pre>  if (isRaining === true){
    wearCoat();
  }</pre>
              <p>But imagine a situation where we want to check if it is raining
                <strong>OR</strong> if the clouds are dark. If
                <strong>either</strong> is true then take a coat out. This could be
                checked using the <strong>||</strong> logical operator - which means <b>OR</b> - to check
                both conditions.
              </p>
              <pre>  if (isRaining === true <strong>||</strong> isDark === true){
    wearCoat();
  }</pre>
              <p>However, if we want to check if it raining <strong>AND</strong>
                the clouds are dark and we will only then take a coat out if
                <strong>both</strong> are true. This might be structured like
                this.
              </p>
              <pre>  if (isRaining === true <strong>&amp;&amp;</strong> isDark === true){
    wearCoat();
  }</pre>
              <p>Let's look at a table from the above resource of the logical
                operators used here to help understand them.</p>
              <div class="group_table">
                <table border="1">
                  <tbody>
                    <tr>
                      <th><strong>Operator</strong></th>
                      <th>Description</th>
                      <th>
                        Example
                      </th>
                    </tr>
                    <tr>
                      <th>&amp;&amp;</th>
                      <th>and</th>
                      <th>
                        (x &lt; 10 &amp;&amp; y &gt; 1) is true
                      </th>
                    </tr>
                    <tr>
                      <th>||</th>
                      <th>or</th>
                      <th>(x === 5 || y === 5) is false</th>
                    </tr>
                    <tr>
                      <th>!</th>
                      <th>not</th>
                      <th>!(x === y) is true</th>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div></div>
              <p>This is a subject that suits learning through doing, through
                experimenting and getting things a bit wrong and trying out
                different options until you get the one you want. As mentioned
                previously, there is a resource which is more complete here.
                <a href="https://www.w3schools.com/js/js_comparisons.asp">https://www.w3schools.com/js/js_comparisons.asp</a>
              </p>

              <span class="del cts-1" data-username="Rhett" data-cid="12" data-userid="rbohling" data-time="1581749745348">
              </span>
            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="adding-movement"></div>
              <h1>Adding Movement</h1>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 837.296px; height: 261.655px;"><img
                    style="width: 837.296px; height: 261.655px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/core_adding_movement_full.png" alt="">
                </div>
              </div>
              <p>We are going to jump right into making our game move. You will
                need to have followed chapter on <strong>Building a World</strong>
                and have that code ready to follow these stages. If not, see here for the
                relevant code (you can click on the Fish image and then Remix on Glitch to pick up from here) <a
                  href="https://glitch.com/edit/#!/building-a-world-chapter?path=game.js">https://glitch.com/edit/#!/building-a-world-chapter?path=game.js</a></p>
              <h2>Moving our player around the screen</h2>
              <p>Now we have a player appear, fall to the bottom of the screen and they should
                now be standing at the bottom of the game area.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 642.625px; height: 484.585px;"><img
                    style="width: 642.625px; height: 484.585px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/chap2simple.png"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p class="aloha-empty-paragraph"></p>
              <p>Before we start adding platforms or other characters, let's get our player to
                move around the screen using the cursor keys on the keyboard. To move our player we need to start to work with what we call
                <strong>player input</strong>, this is how the player of the game
                interacts with what is happening, in this case we want the person
                playing the game player to be able to control our game player
                character using the arrow keys on the keyboard.
              </p>
              <p>Let's start with moving left and right. Let's add the following code to our <strong>update function</strong>.</p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT) === true){
      player.body.velocity.x = -200;
    }
    else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT) === true) {
      player.body.velocity.x = 200;
    }</pre>
              <p>This seems to work up to a point. Changing the
                <strong>velocity.x</strong> property to 200 or -200 when the left
                or right key is pressed does create movement. However the player just keeps moving even if we are not pressing
                down a key. To avoid this happening we can add one more condition to our
                <strong>update</strong> function.
              </p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT) === true){
        player.body.velocity.x = -200;
    }
    else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT) === true){
        player.body.velocity.x = 200;
    }
    else {
        player.body.velocity.x = 0;
    }</pre>
              <p>This resets the velocity to zero and so stops any left right
                movement. Putting this at the start of the update area means that
                if no key is being pressed, then this is the default behaviour. To make our player jump we can add another couple of lines of
                code.</p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.UP)) {
      player.body.velocity.y = -200;
    }</pre>
              <p>Now our player can go left and right and jump. This is starting
                to look like a real game. You may notice that we can jump even
                though we are not touching the ground. We will solve this issue
                later.</p>
              <h2>Make it easy to control our speed</h2>
              <p>The velocity variables control how quickly the player moves.
                When we create our game we think it is a good idea to put variables
                that easily change the way our game works right at the top so it is
                easy to change them. We did this with gravity last time. Lets change our code around to do this. This process of
                improving code that does work but could be better is called
                refactoring.</p>
              <p>In the code above our velocity.x and velocity.y is set in the
                body of the code. Let's create variables called velocity_x and
                velocity_y right at the start of our code in our global game
                variables area.</p>
              <pre>var velocity_x = 200;
var velocity_y = 300;</pre>
              <p>Now we can swap out the direct mentions of those numbers from
                the code in update change the lines as follows. For the x (left and
                right) value do;</p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT) === true) {
        player.body.velocity.x = -velocity_x;
    }
    else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT) === true){
        player.body.velocity.x = velocity_x;
    }</pre>
              <p>For the y (up and down) value</p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.UP) === true) {
        player.body.velocity.y = -velocity_y;
    }</pre>
              <h2>Checking our Code</h2>
              <p>You can check what you have in your code with the the completed
                code for this chapter here - <a href="https://glitch.com/edit/#!/adding-movement-chapter?path=game.js">https://glitch.com/edit/#!/adding-movement-chapter?path=game.js</a></p>
              <div></div>
              <h3>Understanding <b><strong>if statements /
                    Conditionals: <br></strong></b></h3>
              <p>One of the key elements of games are Rules. If this happens then
                do that. Let's have a look at first bit the code used to control our
                player.</p>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.LEFT) === true) {
        player.body.velocity.x = -velocity_x;
    } else if (game.input.keyboard.isDown(Phaser.Keyboard.RIGHT) === true) {
        player.body.velocity.x = velocity_x;
    }</pre>
              <p>Statements here start with <strong>if, else if</strong> or
                <strong>else</strong>. These are also called conditional
                statements. The format of the first part of a conditional (also
                called <strong>if - else</strong>) statement can be expressed
                conversationally as "<strong>if</strong> this condition is true,
                <strong>then</strong> do this action". This can be represented in code pattern as
              </p>
              <pre>if (condition) {
    action
}</pre>
              <p>You can see that our code is testing for three statements. This
                format allows us to programme a series of possible outcomes into
                our game. The format here is like a list of options which the programme
                runs. It is important to note that only one of the <strong>if, else
                  if, else</strong> can run at any one time. You should also know
                that there can be as many of the <strong>else if</strong> options
                as you want.</p>
              <p>There is more to explain how the <strong>(condition)</strong>
                part of this process works in the next chapter. If you want to
                follow this up to learn more about this aspect of coding then you
                can use some of the many online resources that teach javascript.
                For example, there is more on conditionals here - <a href="https://www.w3schools.com/js/js_if_else.asp">https://www.w3schools.com/js/js_if_else.asp</a></p>



            </div>



          </div>
          <div class="box white">

            <div class="chapter-inner">
              <div class="chapter_anchor" id="adding-a-reward"></div>
              <h1>Adding a Reward</h1>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 837.296px; height: 261.655px;"><img class="" style="width: 837.296px; height: 261.655px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                    src="images/core_add_reward.png" alt="">
                </div>
              </div>
              <p>In the last chapter, we talked about not having a real goal for our game. In this chapter, we put in place a reward, a goal for us to chase. In this case, it will be to collect coins.</p>
              <h2>Creating our Coin</h2>
              <p>We already know how to add images as sprites to our world. We did that with the player. Now we need to do the same a coin.</p>
              <p>In the <strong>preload</strong> function add the following code</p>
              <pre>  game.load.image("coin", "https://cdn.glitch.com/07341419-e9df-484f-820f-d6799646cfcd%2F22coin.png");

</pre>
              <p>Before adding any coins to the game.<b> We are going to create a group</b> for all of our coins called, <em><strong>coins</strong></em>, this will be useful when we program the part of the game where the player takes the coin.
                Generally we might want to create groups of objects when we want the same kind of thing to happen to all the members in the group. In this case each time our player touches a coin we will want that coin to disappear.</p>
              <p>Add the following code in the <strong>create</strong> function in our code after where we add the platforms.</p>
              <pre>  coins = game.add.group();
  coins.enableBody = true;</pre>
              <p>Instead of adding all of our coins one at a time, which we can see would be quite repetitive, we can use a loop to do the job for us. Let's add 3 coins to the screen, spaced every 100 pixels. We will add them at the top, but
                then add gravity so that they fall down until they touch a platform. To do this add the following lines after the code above.</p>
              <pre>  for (var i = 1; i &lt; 4; i += 1) {
    var coin = coins.create(i * 100, 0, "coin");
    coin.body.gravity.y = 200;
  }</pre>
              <h2>Making the coins disappear</h2>
              <p>At the moment we have something for our player to head for but when they get there, they just overlap with the coins rather than it seeming like the player takes them. Our next stage is to make them disappear. To do this we
                rely on another bit of Phaser physics which is especially for cases like this. Add the following code at the top of your <strong>update</strong> function.</p>
              <pre>game.physics.arcade.overlap(player, coins, takeCoins);</pre>
              <p>This line will be explained at the end of this chapter but what it means is that when player and any member of the coins group overlap then run a function called takeCoins (which we still have to write yet). Now let's write
                the code that runs when that overlap happens. Add this after the <strong>update:</strong> code has ended.</p>
              <pre>var takeCoins = function (player, coin) {
    coin.kill();
};<strong>
</strong></pre>

              <h2>Checking our Code</h2>
              <p>You can check what you have in your code with the the completed code for this chapter here - <a
                  href="https://glitch.com/edit/#!/add-a-reward-chapter?path=game.js:1:0">https://glitch.com/edit/#!/add-a-reward-chapter?path=game.js:1:0</a></p>
              <h2>Loops and Iterating</h2>
              <p>When find ourselves doing the same thing over and over again when coding, there is normally a better way to do this. At times in this guide we do things the longer way in order to make the code easier to read but here we use a loop
                when creating our coins. There are a few ways to do this but one of the more flexible ways is to create a <strong>For Loop</strong> which takes three statements. Here is a summary of some more detailed information on how to use a for
                loop here - <a href="https://www.w3schools.com/js/js_loop_for.asp">https://www.w3schools.com/js/js_loop_for.asp</a></p>
              <p>There are three key parts of For Loop, a starting point, a way of knowing when to end the loop, and a way of changing the loop. Let's look at a simplified example of how this is used in our code.</p>
              <pre>  for (var i = 1; i &lt; 4; i++)
  {
    coin = coins.create(i * 100, 0, 'coin');
  }</pre>
              <p>You can see the following pattern.</p>
              <pre>  for (statement 1; statement 2; statement 3)
  {
    code block to be executed (normally more than once
  }
</pre>

              <div>Very often a for loop will follow the following convention:</div>
              <ul>
                <li>Statement 1 creates a variable often called <strong>i</strong> for iterator, (to iterate means to do things more than once).</li>
                <li>Statement 2 sets up when the loop will end using some maths, in this case it will end when <strong>i</strong> is no longer less than 4.</li>
                <li>Statement 3 runs after every loop and in this case increases the value of <strong>i</strong> by one each time.</li>
              </ul>
              <div>Each time the loop happens, the result will be different as <strong>i</strong> increases in value in each loop. If <strong>i</strong> starts off at 1 and increases by one each time the loop runs until <strong>i</strong> is
                no longer less than 4, it will run three times. Let's chart out how it will be different.</div>
              <div>
                <pre> coin = coins.create(i * 100, 0, 'coin');
</pre>
              </div>
              <div>
                <div>The code above becomes:</div>
                <ol>
                  <li>Loop One: i = 1 : coin = coins.create(1 * 100, 0, 'coin'); - so coin created at 100,0</li>
                  <li>Loop Two: i = 2 : coin = coins.create(2 * 100, 0, 'coin'); - so coin created at 200,0</li>
                  <li>Loop Three: i = 3 : coin = coins.create(3 * 100, 0, 'coin'); - so coin created at 300,0</li>
                </ol>
              </div>
              <h2>Making and calling functions</h2>
              <p>We added our own function to the playState object called takeCoins when the player overlapped with any coins. This is about the most complicated bit of coding we need to do to make our first game so let's take some time to explain
                what is happening.</p>
              <p>When creating our overlap statement with the following line.<br></p>
              <pre>game.physics.arcade.overlap(player, coins, takeCoins);</pre>
              <p>If we are new to code then there is quite a lot going on here. <strong>Overlap()</strong> is a function with several possible parameters. Here we are using just three. <span>These different parameters can be likened do
                  different holes in a block toy.</span></p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 313.986px; height: 283.634px;"><img style="width: 313.986px; height: 283.634px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                    src="images/toyblocks.jpg" alt=""
                    width="300" height="271"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p><span>Let's look at the specification of the overlap function.</span></p>
              <pre id="overlap">    overlap<span>(object1, object2, <span>overlapCallback</span>)</span></pre>
              <ol>
                <li><span><strong>object1:</strong> The first object or group of objects to check </span></li>
                <li><span><strong>object2:</strong> The first object or group of objects to check </span></li>
                <li><span><strong>overlapCallback:</strong> An callback function that is called if the objects overlap. </span><br><br></li>
              </ol>
              <p><span>We pass in two objects or groups, in this case the player and the the group of coins. We also want something to happen when there is an overlap between the player and any of the coins. </span><span>This is where the
                  overlap callback parameter comes in. We don't need to know a lot about what a callback function is here. But in a nutshell here is a code that will run if there is an overlap between the player and a coin. In our case it makes it
                  disappear with the coin.kill() code. <br></span></p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="hazards-and-enemies"></div>
              <h1>Hazards and Enemies</h1>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 837.296px; height: 261.655px;"><img
                    style="width: 837.296px; height: 261.655px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/core_hazards.png" alt="">
                </div>
              </div>
              <p>We need things for our player to avoid to add some challenge to the game. In this chapter will we learn how to create static hazards and moving enemies. Because they are both official hazards that zap our player we will put them both
                in a group called hazards.</p>
              <h2><strong>Adding an Animated Hazard</strong></h2>
              <p>Let's add a hazard into our game a location and let's make it move. We will add a very simple flickering flame. It consists of two frames of animation. They alternate give the flickering effect. Here is an image of both frames, one
                besides the other. </p>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 127.688px; height: 156.993px;"><img
                    style="width: 127.688px; height: 156.993px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/fire2_150x150.png.jpeg" alt="">
                </div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p class="aloha-empty-paragraph"></p>
              <p>To create an image like this you can use a tool like Piskel which we used in the first chapter <a href="#jumping-right-in">Jumping Right In</a>. <br></p>
              <p>To make our image animated, we will add it as a <em><strong>spritesheet</strong></em>, and specify the width and height the frames, here 11 pixels wide and 27 high. And after that we can also load in a sound to play when we hit a
                hazard. Put this code in <strong>preload:</strong></p>
              <pre>  game.load.spritesheet("hazard", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Ffire2.png", 11, 27);
</pre>
              <p>Then add the hazard to the game. Again as with the coins in the previous chapter, we will create a group called <em><strong>hazards</strong></em> in case we want to add more later. Add the following code to <strong>create:</strong>
              </p>
              <pre>  hazards = game.add.group();
  hazards.enableBody = true;
  hazard1 = hazards.create(100, 250, 'hazard');
  hazard1.animations.add('flicker', [0, 1], 6, true);
  hazard1.animations.play('flicker');
</pre>
              <p>The next stage is to make the player disappear when they touch this flickering flame hazard. This is done in a similar way to working with the coins but in reverse. Add the following line to <strong>update</strong> part of the code.
              </p>
              <pre>  game.physics.arcade.overlap(player, hazards, hitHazard);</pre>
              <p>We now need a hitHazard function to disappear our player if they hit a hazard. Take care to follow the same pattern and to add this after the takeCoins function.</p>
              <pre>  var hitHazard = function(player,hazard) {
    player.kill();
  };</pre>
              <p>This does give us win and lose conditions, so hey presto, we have a game. But either of those options mean we are stuck in a form of limbo, either alive with nothing to do, or you disappear leaving only the game world. You will have
                to refresh the page to progress. Clearly this is not ideal and we'll deal with that in the next section.</p>
              <h2><strong>Restarting our Game</strong></h2>
              <p>We need something to happen when we hit a hazard / enemy or collect all the coins. To make things simple let's just restart the game. To restart our game when we die we're going to add a new function called restart() to our
                code. </p>
              <pre>  var restart = function () {
    game.state.start("play");
  };
</pre>
              <p>This restarts the currently running game state (we talk more about this later) called 'play'. <br>We now add a line of code to restart the game to our <strong>hitHazard()</strong> function. It should now read as follows.
              </p>
              <pre>  var hitHazard = function () {
    player.kill();
    restart();
  };</pre>
              <p>We now need to restart the game when we have collected all the coins. This is a little more complicated and involves creating a new function that goes through. To do this add the following lines to update:</p>
              <pre>  if (coins.total === 0){
    restart();
  }</pre>
              <p>This line keep checking to see if there are any coins left and if there aren't then then it will restart the game. Be aware that this could cause a bug. If you don't include any coins in your game, then it will just keep
                restarting. <br></p>
              <h2>Check your Code</h2>
              <p>You can check your code against this chapters code demo here - <a href="https://glitch.com/edit/#!/add-hazards-chapter">https://glitch.com/edit/#!/add-hazards-chapter</a></p>
              <p class=""><br class=""></p>


            </div>



          </div>



          <h1 class="section">HOW OUR GAME FITS TOGETHER</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="adding-game-states"></div>
              <h1>Understanding our Game Structure</h1>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 837.296px; height: 261.655px;"><img
                    style="width: 837.296px; height: 261.655px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/core_game_structure.png" alt="">
                </div>
              </div>
              <p>If you have been following the chapters in the first half of this book we have been building up our game from scratch bit by bit. Otherwise you may have been adapting the Grid Game Template and are reading this chapter to
                find out more about the structure of our game. You may have been doing a bit of both. This chapter covers more detail on how our game fits together. In the following chapters there tutorials for how to add different elements to our
                game. Here we will try to bring together the two approaches so that you can continue by dipping into the rest of the book in what ever order you want to.</p>
              <h2>How the code of the two approaches is similar and different</h2>
              <p><b>If you have been working your way through the chapters</b> then the you'll understand the code of the last chapter <strong>Adding Hazards</strong> which is here <a
                  href="https://glitch.com/edit/#!/add-hazards-chapter?path=game.js">https://glitch.com/edit/#!/add-hazards-chapter?path=game.js</a></p>
              <p>Alternatively if you are adapting the Grid Game Template - then the code or that is here - <a
                  href="https://glitch.com/edit/#!/grid-game-template?path=js/game.js">https://glitch.com/edit/#!/grid-game-template?path=js/game.js</a></p>
              <p>Just about all the code that we have created "From Scratch" by following the chapters in the first half of this book is in the "Grid Game" Template code but there are some sections of code in the Grid Game that aren't in our
                From Scratch code. So let's have a look a some of the similarities and differences.</p>
              <h3>How the code is similar </h3>
              <p>The code that we have created From Scratch has the following structure more or less. </p>
              <pre>global variables
create playState object
--&gt;playState.preload function
--&gt;playState.create function
--&gt;playState.update function
--&gt;takeCoin function
--&gt;hitHazard function
--&gt;restart function
create game states
start main game state<br></pre>
              <p>Understanding what happens in each section of this code structure will really help us when we start to copy and paste new sections of code from to make it easier to visualise, this structure be mapped out as a diagram below.
              </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 610.181px; height: 537.962px;"><img
                    style="width: 610.181px; height: 537.962px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/overview_of_structure_cropped.png" alt="">
                </div>
              </div>
              <p>If you compare the code from the Grid Game there are some extra elements that you might want to know more about. <br></p>
              <h3>Adding Sounds</h3>
              <p>There are sounds which happen when you touch a coin or a hazard in the Grid Game code which we don't have in our from From Scratch code.The process of adding in sounds is explained in <a
                  href="#polish-adding-our-own-sound-effects">Adding your own Sound Effect</a>. This example is for a jump sound rather than touching a hazard or coin, but the process is the same. <br></p>
              <h3>Adding Levels</h3>
              <p>One of the big differences in the Grid Game code is that we have three different levels. Comparing the code this is first clear when we see the variable currentLevel in the Global Variables section at the start of our code.
              </p>
              <pre>var currentLevel =1;</pre>
              <p>Later in the code there are some key sections which create our three distinct levels. First of all we have the grid design sections where you can change the location of the platforms, coins and hazards. For example here are
                the first few lines of the design for level 1. </p>
              <pre>  // Design the level. x = platform, o = coin, h = hazard.
  var level1 = [
      "                 ",
      "                 ",
      "    o            ",
      "                 ",
      "  xxxxx          ",
</pre>

              <p>In technical terms this level one variable now has a data structure of an array. We don't need to know much about arrays at this level but it is worth remembering that they are useful for doing things efficiently in
                combination with loop code structures. In fact that is what needs to happen next in our code. </p>
              <p>Next step is to send the level data to a loop to turn all of our x's, o's, and h's into platforms, coins and hazards on the screen. We have a separate function which does this work called. Here are the first few lines of
                this function, for the full version you can look at the code of the Grid Game. </p>
              <pre>function loadLevel (level) {
    for (var i = 0; i &lt; level.length; i = i + 1) {
        for (var j = 0; j &lt; level[i].length; j = j + 1) {
            if (level[i][j] === "x") {
                // Create a wall and add it to the 'platform' group
</pre>
              <p>Are you still paying attention? Good, because the next part is important! :) </p>
              <p>To decide what level gets loaded there is a conditional if statement that checks what the currentLevel variable is and then sends the right level data to the loadLevel function. </p>
              <pre>  if (!currentLevel || currentLevel === 1) {
    loadLevel(level1);
    // add extra code for just level one here

  } else if (currentLevel === 2) {
    loadLevel(level2);
    // add extra code for just level two after here

  } else if (currentLevel === 3) {
    loadLevel(level3);
    // add extra code for just level three after here
  }
</pre>
              <p>So why is this so important? This is the section of your project that you will add new code into if you want to add new things to just one level of your game. Yes it's that important that it's right there in the code
                comments. There is more information on how to do this works in <a href="#game-space-adding-levels">Adding More Levels</a>.</p>
              <h3>Navigating Levels</h3>
              <p>As there are several levels, there is also a way to navigate between levels. While both sections have a similar <b>hitHazard </b>function which restarts the play state, there is a bigger difference in the code that checks if
                there are any coins left. </p>
              <pre>  if (coins.total === 0) {
    nextLevel();
  }
</pre>
              <p>This check now calls a new function called nextLevel which gets called. This function increases the level number by one and then restarts the game<br></p>
              <pre>var nextLevel = function () {
    currentLevel = currentLevel + 1;
    game.state.start("play", true, false, currentLevel);
};
</pre>
              <p>There are some more parameters in the line which restarts the play state. It's the last one, currentLevel, that is important here, as we are passing the new level value along as the play state starts. This means that level 2
                will be loaded up. </p>
              <p>And that's not all. We need to make a similar change to our restart function too. </p>
              <pre>var restart = function () {
  currentLevel = 1;
  game.state.start("play", true, false, currentLevel);
};
</pre>
              <p>In this example the currentLevel value gets set back to one so you have to start from the beginning again if you hit a hazard. Harsh!<br></p>
              <h2>Getting ready to Cut and Paste our Code Patches</h2>
              <p>The second half of this book has a lot of code examples which you and copy and paste into your own project. </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 761.94px; height: 387.25px;"><img
                    style="width: 761.94px; height: 387.25px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/cut_and_paste.jpg" alt="">
                </div>
              </div>
              <p>This process is a lot like cutting out pieces of a magasine and pasting them into a collage or cutting our fabric patches and sewing them onto a piece of clothing. There are step by step instructions and your the different
                parts of your code are a bit like a dress pattern that you cut out and sew together. <br></p>
              <p>As you start this process you are bound to make plenty of mistakes and get pretty confused, but stick with it. As you progress you will start to notice patterns that you have followed before and it will start to seem more
                familiar. </p>
              <p>Remember, you are new at this! If you were sewing your first jacket, then normally you would follow a pattern designed by someone else. In the same way, you also don't have to start off making your own games from scratch,
                lets follow some patterns. We can still make it our own through what patterns we choose to put together, the characters and stories we imagine, and the graphics and sound we create. <br></p>
              <h2>Getting Started adding new Game Elements</h2>
              <p>As described in the chapter choose your adventure there are three main groupings for new game elements that you can add to your project. Game Mechanics, Game Space, Game Polish. <br></p>
              <p>To get started we suggest the following starter projects. </p>
              <ul>
                <li><a href="#game-mechanic-add-moving-enemies">Game Mechanic: Add Moving Enemies</a><br></li>
                <li><a href="#game-mechanic-jumping-on-enemies">Game Mechanic: Jump on Enemies</a><br></li>
                <li><a href="#polish-adding-our-own-sound-effects">Game Polish: Adding your own Sound Effects</a></li>
                <li><a href="#polish-add-animation-to-your-character">Game Polish: Adding Animations to your Character</a><br></li>
                <li><a href="#polish-add-your-own-background">Game Space: Add your own Background Image</a></li>
                <li><a href="#game-space-add-game-over-screen">Game Space: Add a Game Over State</a></li>
              </ul>
              <p>For a larger list of what's available have a look a the chapter list of this book or use this page for a quick set of links to the code examples. <a
                  href="http://ggc-examples.glitch.me/">http://ggc-examples.glitch.me/</a><br></p>
              <p>If you like the process of stepping through code that someone else has created in a logical way then I would suggest following this more advanced tutorial from <a href="https://mozdevs.github.io/html5-games-workshop/">Belen
                  Albeza from Mozilla</a> using Kenny's graphics. I've used the ideas and the game art a lot for this example. That tutorial is a great next step if you want to take the knowledge from this beginner book further. It is also structured
                in a way more like a web professional would do it.<br></p>

            </div>



          </div>



          <h1 class="section">GAME MECHANICS</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-add-moving-enemies"></div>
              <h1>Game Mechanic: Add Moving Enemies</h1>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameMechanics_moving_enemies.jpg" alt="">
                </div>
              </div>
              <p>In this section, we'll look at adding new enemies and making them move.. To create the movement we will use a process called <strong>tweening</strong> to do this. Our aim is to make the enemy appear in one place, and then
                for it to move back and forth making it difficult to get past.</p>
              <div class="group_img">
                <div class="image bk-image-editor" style="width: 423.881px; height: 309.8px;"><img
                    style="width: 423.881px; height: 309.8px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/patrol.jpg" alt="">
                </div>
              </div>
              <h2>What we need to know and what we will do</h2>
              <p>To be able to do this step it would help if you knew about the following from this book;</p>
              <p> </p>
              <ul>
                <li>Understand the core structure of our game and sequencing - see <a href="https://en.flossmanuals.net/phaser-game-making-in-glitch/_edit/#building-a-world">Building a World</a></li>
                <li>Collision detection using overlap() function- see <a href="#adding-movement">Adding a Reward</a></li>
                <li>Already set up an enemies group which kill our player if touched - see <a href="#hazards-and-enemies">Hazards and Enemies</a><br></li>
              </ul>
              <h3>Create an image for your Enemy and import it to your project<br></h3>
              <p>You can use a pixel art tools like Piskel or something similar to create a single frame enemy to more around the screen. You should then export this from Piskel as a PNG spritesheet and upload it to the assets folder of your
                project on glitch.com. There is help on how to upload in <a href="#polish-add-your-own-background">Add a Background</a>.<br></p>
              <h3>Going over the code</h3>
              <p>The code for a minimal example of the Moving Enemies game mechanic is shown here - <a
                  href="https://glitch.com/edit/#!/sgte-example-moving-enemy?path=js/game.js">https://glitch.com/edit/#!/sgte-example-moving-enemy?path=js/game.js</a><br></p>

              <p>

                This tutorial assumes you already have an enemies group and the code in update which makes your player disappear if touched.</p>
              <p><br></p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                    style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/moving_enemy_patch_1.png" alt="">
                </div>
              </div>
              <p><br></p>
              <p>Anywhere in the <b>Playstate.preload</b> function add the line:</p>
              <pre>  game.load.image("newenemy", "https://cdn.glitch.com/05027ea3-25db-40c7-803e-2f710bf696a1%2Fhazard.png?1549457791750");	</pre>
              <p>If you want to add your own image for this moving enemy then be sure to change the link to the image in this line of code. </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                    style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/moving_enemy_patch.png" alt="">
                </div>
              </div>
              <p>In <strong>Playstate.create</strong> function, after the code where you add the enemies group to the game, add the lines:</p>
              <pre>  var enemy1 = game.add.sprite(370, 320, "newenemy");
  enemies.add(enemy1);
</pre>
              <p>Adding our enemy to the enemies group makes sure that it follows the normal rules for our enemy, normally that is that if our player hits the enemy something happens. Now let's start to add some movement by adding a tween. A
                tween is a flexible way of controlling the properties of our game objects that are displayed on the screen. In this case we will alter the position of the enemy object.</p>
              <p>Add these lines in the <strong>Playstate.create </strong>function after you have added your enemy1. <br></p>
              <pre>  var tween1 = game.add.tween(enemy1);
  tween1.to({x:170, y: 320}, 2000, null, true, 0,-1,true);</pre>
              <p>The tween code above will move our enemy to the position 170 pixels in from the left and 320 pixels down from the top, and it will take two seconds (2000 miliseconds) after the game starts. When it gets there it will move
                back and not stop doing it. Have a play with those figures to get the effect you want and to place your enemy where you want it to appear.</p>
              <h3>Taking it Further</h3>
              <p>To take this game mechanic further you may want to ;</p>
              <ul>
                <li>animate your enemy - see <a href="#polish-add-animation-to-your-character">Add Animation to your Characters</a></li>
                <li>created a new sound to play when you hit this hazard - see <a href="#polish-adding-our-own-sound-effects">Adding our own Sound Effects</a><br><br><br>. <br></li>
              </ul>
              <ol class="endnotes" dir="ltr"></ol>
            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-jumping-on-enemies"></div>
              <h1>Game Mechanic: Jumping on Enemies</h1>
              <p>The game mechanic of jumping on enemies to get rid of them has
                been made very popular by Mario games. It is a great way to use the
                jumping dynamic in a creative way. We can use the same technique as many Mario games use to do
                this. An enemy will kill our player unless our player is falling
                when they make contact.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameMechanics_jumping.jpg" alt=""
                    width="800" height="503"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <h2>What we need to know and what we will do<br></h2>
              <p>Our mechanic relies on us being able to check if we are jumping
                on our enemy. We will do this by checking to see if our player is
                on the way up or coming down from a jump.</p>
              <p>To be able to do this step it would help if you knew about the following from this book;<br></p>
              <ul>
                <li>Adding Physics and Gravity - see <a href="#building-a-world">Building a World</a></li>
                <li>Collision detection using overlap() function- see <a href="#adding-movement">Adding a Reward</a><br></li>
              </ul>
              <div></div>
              <h3>Going over the code:</h3>
              <p> The code for a minimal example of the Jumping on Enemies game mechanic is shown here - <a
                  href="https://glitch.com/edit/#!/game-mechanic-jump-on-enemies?path=game.js">https://glitch.com/edit/#!/game-mechanic-jump-on-enemies?path=game.js</a></p>
              <p>In <b>playState.preload </b>add a line which creates a new type of enemy. </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 258.515px;"><img
                    style="width: 898px; height: 258.515px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/short_preload_patch_cropped.png" alt="">
                </div>
              </div>
              <pre>    game.load.image("newenemy", "https://cdn.glitch.com/05027ea3-2f71-hazard.png");
</pre>
              <p>In <b>playState.create</b> add the following code either towards the end the function</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 259.562px;"><img
                    style="width: 898px; height: 259.562px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/short_create_patch_cropped.png" alt="">
                </div>
              </div>
              <pre>  var enemy1 = game.add.sprite(370, 320, "newenemy");
  enemy1.type = "spider";
</pre>
              <p>Have a look at the updated <b>hitHazard</b> function for the code that
                checks to see if the player is coming down from a jump by seeing if the y axis velocity is less than 0 and if the enemy type is ;</p>
              <pre>var hitHazard = function (player, hazard) {
    if (hazard.type === "enemy" &amp;&amp; player.body.velocity.y &gt; 0){
//  if (player.body.velocity.y &gt; 0){
      hazard.kill();
    }
    else {
      player.kill();<br>      restart();
    }
};
</pre>
              <p>In the code above the if statement makes checks to see if the enemy is of a type of spider. This is because you may have other
                possible different hazard types might be in the group. Some might be more static hazard types like a cactus. You can use this approach if you want to use a different types of enemy to your game. If that is not the case then you can
                use the more simple line which is commented out in the code example above. </p>
              <p>That's it. We hope you enjoy adding this game dynamic to your
                game to jump on enemies.</p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-add-a-countdown-timer"></div>
              <h1>Game Mechanic: Add a Countdown Timer</h1>
              <p>One key game mechanic of video games is to add challenge to a
                game by making the player complete something within a certain
                time. In this section we will do this with a simple count down
                timer.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img image-layout-1image" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img class=""
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/game-mechanics_timer.jpg" alt=""
                    width="800" height="503"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <h2>What we need to know and do</h2>
              <p>Our count down timer will be visible in the top left. When it
                counts down to zero then it will trigger the starting of the game
                over state. This mechanic using the following techniques which are covered
                in more detail in other parts of this book;</p>
              <ul>
                <li>Game States - see <a href="https://3m.flossmanuals.net/#adding-game-states/">
                    Adding Game States</a></li>
                <li>Timer Events - see <a href="game-mechanic-add-a-countdown-timer/Adding%20Animated%20Game%20Scenes">
                    Adding Animated Game Scenes</a></li>
              </ul>
              <div>
                <h3>Going over the code:</h3>
              </div>
              <div>The code for a minimal example of the Adding A Timer game mechanic is shown here - <a href="https://glitch.com/edit/#!/game-mechanic-timer?path=game.js:">https://glitch.com/edit/#!/game-mechanic-timer?path=game.js:</a>
              </div>
              <div>Let's jump into the details, to look at the following groups
                of code. First add this code block anywhere in your <b>playState.create</b> function<br></div>
              <pre>  this.timeLimit = 5;
  this.timeText = game.add.text(10, 10, "0:00");
  this.timeText.fill = "#000000";
  this.timer = game.time.events.loop(1000, tick, this);</pre>
              <div>This code block;</div>
              <div>
                <ul>
                  <li>defines how long the time limit will be</li>
                  <li>adds an empty text object to the game which will be updated
                    later</li>
                  <li>sets the colour of the text</li>
                  <li>creates a timer event object which will run the tick() function
                    every 1000 miliseconds ( which is one second)</li>
                </ul>
                <div>
                  <div class="group_img">
                    <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img style="width: 898px; height: 505.519px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                        src="images/new_functions_patch_1.png" alt="">
                    </div>
                  </div><br>
                </div>
                <div>Now, add these functions to your game at the end of your code.<br></div>
              </div>
              <pre>var tick = function () {
    this.timeLimit--;
    var minutes = Math.floor(this.timeLimit / 60);
    var seconds = this.timeLimit - (minutes * 60);
    var timeString = addZeros(minutes) + ":" + addZeros(seconds);
    this.timeText.text = timeString;
    if (this.timeLimit === 0) {
        restart;
    }
};

var addZeros = function (num) {
    if (num &lt; 10) {
        num = "0" + num;
    }
    return num;
};

var outofTime = function () {
    var splatNoise = game.add.audio("splat");
    splatNoise.play();
    game.state.start("play");
}</pre>
              <div>Let's look at what is in the tick() function and a following function to add Zeros to our timer. We can see here that every time tick is called every second
                it;</div>
              <ul>
                <li>reduces our time limit by one second</li>
                <li>then does some formatting of the time to create a easy to read
                  number</li>
                <li>updates the text of our timer with the friendly version of the
                  time coundown (using the addZeros() function to help it)</li>
                <li>checks to see if the time is down to zero yet and if it does calls the restart function to restart game</li>
                <li>the addZeros function just adds zeros to numbers when we need them so ten seconds is 00:10 and not 00:1<br></li>
              </ul>




            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-longer-jumps-if-holding-jump-down"></div>
              <h1>Game Mechanic: Longer Jumps if Holding Jump Down</h1>
              <p>In the game Super Mario Brothers. When Mario jumps you can make
                him jump for longer by holding down the jump button. This allows for a greater feeling of control and lets you play
                around with your level design to make for more complex
                challenges.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: translate(0px, 0px) rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameMechanics_jum_height.jpg"
                    alt="">
                </div>
              </div>
              <h2>What we need to know and do
              </h2>
              <p>Our mechanic depends us writing some code to check how long the
                player has been holding down the jump key and it will change the
                players velocity based on that value. To do this it's helpful to know about the following game
                elements;</p>
              <ul>
                <li>Adding Physics and Gravity - see <a href="https://3m.flossmanuals.net/#building-a-world/">
                    Building a World</a></li>
                <li>Working with player input - see <a href="https://3m.flossmanuals.net/#adding-movement/">
                    Adding Movement</a></li>
              </ul>

              <div></div>
              <h3>Going over the code:</h3>
              <p>The code for a minimal example of the Variable Jump Height game mechanic is shown here - <a
                  href="https://glitch.com/edit/#!/mechanic-variable-jump-height?path=game.js">https://glitch.com/edit/#!/mechanic-variable-jump-height?path=game.js</a><br></p>
              <p>In the global variable area at the start of the code see that there is a variable declared there called jumpTimer. </p>
              <pre>var jumpTimer = 0;<br></pre>
              <p>In the <b>Playstate.update </b>function, we add code which controls the variable height of
                the player jump.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 898px; height: 260.746px;"><img
                    style="width: 898px; height: 260.746px; transform: translate(0px, 0px) rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/short_update_patch_crop.png"
                    alt="">
                </div>
              </div>
              <pre>    if (game.input.keyboard.isDown(Phaser.Keyboard.UP))  {
        if (player.body.touching.down &amp;&amp; jumpTimer === 0) {
            // jump is allowed to start
            jumpTimer = 1;
            player.body.velocity.y = -300;
        } else if (jumpTimer &gt; 0 &amp;&amp; jumpTimer &lt; 31) {
            // keep jumping higher
            jumpTimer++;
            player.body.velocity.y = -300 + (jumpTimer * 5);
        }
    }
    else {
        // jump button not being pressed, reset jump timer
        jumpTimer = 0;
    }</pre>
              <p>The code adds an extra if statement into the game which makes a
                difference between if the player has just touched the jump button
                or if they are pressing down on the jump button. In the first case
                the jumpTimer would be at 0 and the code makes the player jump and
                starts the clock on the jumpTimer variable. The next case where the
                button is being held down the timer value increases is of
                importance in the line -- player.body.velocity.y = -300 +
                (jumpTimer * 5);-- and this increase means that the players
                velocity is slowed down closer to 0 the longer the button is
                pressed.</p>
              <p>This solution was found at this <a href="https://thoughts.amphibian.com/2015/11/tuning-jumps-in-my-phaser-platformer.html">
                  blog post on amphibian.com</a> which goes into more details about
                the coding process.</p>
              <p>That's it. We hope you enjoy adding this game dynamic to your
                game.</p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-smaller-sprite-collision-boxes"></div>
              <h1>Game Mechanic: Smaller Sprite Collision Boxes</h1>
              <p>We can play with collision effects with body size of player /
                enemy which can make the game seem fairer and more forgiving for
                players. This can really help if you are designing levels that are
                hard and of the shape of your sprite animations sometimes creates a
                big box area.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameMechanics_hitboxes.jpg" alt=""
                    width="800" height="503"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <h2>Check the Code: what we need to know and do</h2>
              <p>Our mechanic relies on us being able to check if we are jumping
                on our enemy. We will do this by checking to see if our player is
                on the way up or coming down from a jump. To do this we'll need to
                know about the following game elements;</p>
              <ul>
                <li>Adding Physics and Gravity - see <a href="https://3m.flossmanuals.net/#building-a-world/">
                    Building a World</a></li>
                <li>Collision detection using overlap() function- see <a href="https://3m.flossmanuals.net/#adding-a-reward/">
                    Adding a Reward</a></li>
              </ul>
              <div></div>
              <h3>Going over the code:</h3>
              <p>The code for a minimal example of the Smaller Sprite Collision Boxes game mechanic is shown here - <a
                  href="https://game-mechanic-smaller-sprite-collision-boxes.glitch.me/">https://game-mechanic-smaller-sprite-collision-boxes.glitch.me/</a></p>
              <p>The size of or player is when we add it in the example above is 46 wide by 42 high.</p>
              <p>Have a look at an updated <b>create function</b> for the code that
                alters the collision body box of the player. The following code is added after the player is added to the game. <br></p>
              <pre>    player.body.setSize(26, 37, 5, 5);</pre>
              <p>There are four parameter here setSize<span>(width, height, <span>offsetX</span>,
                  <span>offsetY</span>) . We can see that we have
                  set a new height and width of the Body of this sprite. In this case
                  we taken 10 pixels off each. This does not affect how it look but
                  does affect when it collides with other sprites.</span></p>
              <p><span>If we don't put in the offset values for
                  example if we use the following code.</span></p>
              <pre><span>    player.body.setSize(26, 37, 0, 0);</span></pre>
              <p><span>then that new body will be anchored at
                  the top left. </span><span>This is not ideal also. You
                  may also notice that they player sinks into the ground.</span></p>
              <p><span>So let's reset this. </span><span>To make this more useful to us as game
                  designer we centered this new collision box by using the offset
                  values 5 and 5. In other word this shifted the box 5 px over to the
                  right (+5x) and five down (+5y). </span><span>Our player no longer sinks into the
                  ground and the new collision box seems more fair.</span></p>
              <h3><span>Collision boxes and
                  Hazards</span></h3>
              <p><span>The same
                  technique can be applied to an enemy. The
                  collision box has been set to be in the bottom right of the hazard
                  to make it very easy to jump over from left to right..</span></p>
              <p>That's it. We hope you enjoy adding this game dynamic.</p>
              <p><strong>Bonus read:</strong> you can have a look at this great
                article on the <a href="http://higherorderfun.com/blog/2012/05/20/the-guide-to-implementing-2d-platformers/">
                  more advanced ways of creating 2D platform games</a><span>. <br></span></p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-extra-lives"></div>
              <h1>Game Mechanic: Extra Lives</h1>

              <p>To allow our game levels to be more challenging but still give our game player a chance we can give extra lives. </p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gamemechanic_extralives_800.png" alt="">
                </div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p class="aloha-empty-paragraph"></p>
              <h2>What we need to know and what we will do<br></h2>
              <p>There is some background knowledge in this book that will be useful for us in getting this mechanic to work;</p>
              <ul>
                <li>Adding Sprites in Groups - see <a href="https://3m.flossmanuals.net/#create-a-game-space/"> Create a Game Space</a></li>
                <li>Working with Loops - see <a href="https://3m.flossmanuals.net/#adding-a-reward/"> Adding a Reward</a></li>
                <li>Working with Levels - see <a href="#game-mechanic-adding-levels">Adding More Levels</a></li>
                <li>Understand spritesheet images - see <a href="#polish-add-animation-to-your-character">Adding an Animated Characte</a>r<br></li>
              </ul>
              <p>You can use the following stages of this tutorial as a check list;</p>
              <ul>
                <li>Create an animated sprite which displays how many lives we have left in Piskel or similar<br></li>
                <li>Create new variables in our list of global variables called lives and livesSprite<br></li>
                <li>Add code to our create function to check how many lives we have and display the right<br></li>
                <li>Add code to our hitHazard function to take off a life if the player is zapped and restart the game with one less life but at the same level</li>
              </ul>

              <div></div>
              <h3>Create an image for your Lives Indicator and import it to your project<br></h3>
              <p>You can use a pixel art tools like Piskel or something similar to create an image with a single frame for each of your lives. And example is shown below.</p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 850.902px; height: 391.436px;"><img
                    style="width: 850.902px; height: 391.436px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/anin_heart_3.PNG" alt="">
                </div>
              </div>
              <p>You should then export this from Piskel as a PNG spritesheet and upload it to the assets folder of your project on glitch.com</p>
              <p>There is help on how to do these stages in the tutorial called <a href="#polish-add-animation-to-your-character">Add Animation to your Characters</a>.</p>
              <h3>Going over the code:</h3>
              <p>The code for a minimal example of the code for adding levels extra lives for your player is here - <a
                  href="https://glitch.com/edit/#!/sgte-extra-lives?path=js/game.js">https://glitch.com/edit/#!/sgte-extra-lives?path=js/game.js</a></p>
              <p>Add a new global variable at the start of our code. It is located outside any particular function as they are needed by more than one of our functions;</p>
              <pre>var lives = 3;
</pre>

              <p>The lives variable keeps a track of how many lives we have left. </p>
              <p>Now add this line to load in an image as a spritesheet which will change when you lose a life into preload function.</p>
              <pre>  game.load.spritesheet("lives", "https://cdn.glitch.com/df3d4bd4-a145-4f00-bfad-97b20729e2ee%2Fanimated%20heart.png",48,12);
</pre>
              <p>You may want to create your own image which does this. <br></p>
              <p>Next, in the <b>create</b> function add the following lines which add our lives image to the screen in the top left and changes it depending on how many lives are left. <br></p>
              <pre>  livesSprite = game.add.sprite(20, 20, "lives");

  if (lives === 3){
    livesSprite.animations.frame = 0;
  }
  else if (lives === 2){
    livesSprite.animations.frame = 1;
  }
  else if (lives === 1){
    livesSprite.animations.frame = 2;
  }
</pre>
              <p>Then when the play is happening and the player hits a Hazard we need to take off a life and restart the game with one less life but at the same level. We already have a function which gets called when our player overlaps
                with a hazard called hitHazard so we can add the following code to it. <br></p>
              <pre>var hitHazard = function (player, enemy) {
  splatNoise.play();
  if (lives > 1) {
    lives--;
    game.state.start("play", true, false, lives, currentLevel);
  }
  else {
    lives = 3;
    currentLevel = 1;
    game.state.start("play", true, false, lives, currentLevel);
  }
};
</pre>
              <p>We have a conditional statement which runs when the number of lives is more than 1. In this case, when we start our play state there is the option to pass the value of lives and the currentLevel along, this allows us to not
                start from level one.</p>
              <p>When the lives variable reaches 1 then you are on your last life. Then when you hit a hazard, the second condition runs which resets the values of lives to three again and resets the currentLevel variable to be 1. This has the effect of starting the game again at the beginning with three lives. <br></p>
              <h3>Other ideas to extend this mechanic</h3>
              <p>Other ideas to extend this mechanic could include;<br></p>
              <ul>
                <li>Adding a Game Over state - see <a href="#adding-game-states">Adding Game States</a><br></li>
              </ul>
              <p><br></p>



            </div>



          </div>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="game-mechanic-player-health"></div>
              <h1>Game Mechanic: Player Health Meter</h1>
              <p>The game mechanic of having a health meter which is depleted
                when you come into contact with enemies and their projectiles can
                be very welcome if you have a challenging layout of levels. This
                can stop your game from being too hard.</p>
              <p class="aloha-empty-paragraph"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                    style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/game-mechanics_health.jpg" alt=""
                    width="800" height="503"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <h2>What we need to know and what we will do<br></h2>
              <p>Our health mechanic is going to build on the code we are using
                when our player collides with a hazard. As such you may need to
                know about.</p>
              <ul>
                <li>Collision detection using overlap() function- see <a href="#adding-a-reward">Adding a Reward</a></li>
                <li>Using game timers - see <a href="#adding-game-states">Hands On - Creating our Starting Cut Scene in Adding Game States</a></li>
              </ul>
              <p>You can use the following stages as a checklist;</p>
              <ul>
                <li>create a graphical health bar </li>
                <li>reduce the level of this health bar as our player gets hit<br></li>
                <li>move our player to
                  the side of the enemy and stop their health from draining too much
                  all the time the player is overlapping with the enemy</li>
                <li>restart the game when the health bar reaches zero<br></li>
              </ul>
              <div></div>
              <h3>Going over the code:</h3>
              <p>The code for a minimal example of the Player Health Bar game mechanic is shown here - <a href="https://glitch.com/edit/#!/player-health-meter?path=game.js">https://glitch.com/edit/#!/player-health-meter?path=game.js</a><br>
              </p>
              <p>In our <b>create function</b> , after we have added our player to the game, we can set the health of our player to be a value of
                100;</p>
              <pre>  player.health = 100;
</pre>
              <p>Health is actually a built in property of Phaser and when that
                reaches zero our player will disappear automatically. But let's add some code anywhere in our update function to check when health is down to zero and restart the game. </p>
              <pre>  if (player.health === 0) {
    restart();
  }
</pre>
              <p>Next we need to build and display the graphical health bar and
                this is done by calling the following function one at the end of
                the create function.</p>
              <pre>var createHealthBar = function () {
     meters = game.add.group();

    // create a plain black rectangle to use as the background of a health meter
    var meterBackgroundBitmap = game.add.bitmapData(20, 100);
    meterBackgroundBitmap.ctx.beginPath();
    meterBackgroundBitmap.ctx.rect(0, 0, meterBackgroundBitmap.width, meterBackgroundBitmap.height);
    meterBackgroundBitmap.ctx.fillStyle = '#000000';
    meterBackgroundBitmap.ctx.fill();

    // create a Sprite using the background bitmap data
    var healthMeterBG = game.add.sprite(10, 10, meterBackgroundBitmap);
    healthMeterBG.fixedToCamera = true;
    meters.add(healthMeterBG);

    // create a red rectangle to use as the health meter itself
    var healthBitmap = game.add.bitmapData(12, 92);
    healthBitmap.ctx.beginPath();
    healthBitmap.ctx.rect(0, 0, healthBitmap.width, healthBitmap.height);
    healthBitmap.ctx.fillStyle = '#FF0000';
    healthBitmap.ctx.fill();

    // create the health Sprite using the red rectangle bitmap data
    health = game.add.sprite(14, 14, healthBitmap);
    meters.add(health);
    health.fixedToCamera = true;
};

</pre>
              <p>The code above creates a black box to act as the background and
                then a red box to act as the health meter. Now have a look at the updated hitHazard part of our code (if you don't have one you should add one);</p>
              <pre>var hitHazard = function (player, hazard) {

    if (!player.immune) {
      player.damage(10);
      updateHealthBar();
      player.immune = true;
      game.time.events.add(200, function () {player.immune = false;}, this);
    }

    if (player.body.position.x &lt; enemy1.body.position.x) {
      player.body.velocity.x = -200;
    }
    else {
      player.body.velocity.x = 200;
    }
};
</pre>
              <p>What's to stop our player from being drained of all health points in one go, when the player is zapped by overlapping with a hazard we need to set a quick time limit where they can't get zapped again. Let's called this time when the
                player is immune from harm. In the code above if the player isn't immune - if (!player.immune) - then we
                zap the players' health by 10 points and make a call to a function
                to update the health bar, to reduce the value a bit. We also
                add code to say that the player is now immune and will stay that
                way for 200 miliseconds (0.2 of a second).</p>
              <p>This time is enough to prevent this section of code running
                again until we can run the next code which moves the player out of the way of the enemy. It checks to see if the
                player is more to the right or to the left of the enemy using the player.body.position property, and then
                changes their velocity value to bump them out of the way of the
                enemy. Doing this then stops the hitHazard function from being
                called as the player and the enemy are no longer overlapping.</p>
              <p>There is also another thing we need to add to the update function in our code. We need to stop the game player from controlling our player character when it is immune. Have a look at the extra conditions which makes this
                happen. One example is show below. Be sure to update all of them!<br></p>
              <pre>  if (!player.immune &amp;&amp; game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {
    player.body.velocity.x = -300
  } </pre>
              <p>That's it. We hope you enjoy adding this game dynamic to your
                game<br></p>
              <ul></ul>
              <p><strong>Follow up Resources:</strong> If you want find out more
                about the code for doing the maths and the process to update the
                health meter then there is a more in depth look at this dynamic at
                the website where the code was originally found - <a href="https://thoughts.amphibian.com/2015/12/putting-health-meter-in-my-phaser-game.html">
                  https://thoughts.amphibian.com/2015/12/putting-health-meter-in-my-phaser-game.html</a></p>



            </div>



          </div>



          <h1 class="section">ADDING POLISH</h1>



          <div class="box white">




            <div class="chapter-inner">
              <div class="chapter_anchor" id="polish-adding-our-own-sound-effects"></div>
              <h1>Polish: Adding our Own Sound Effects</h1>Adding our own sound effects can be a great way to bring our own creativity to a game that we are making or altering. There are lots of fun ways to create or even record your own sounds.<p
                style="text-align: left;"><br></p>
              <p class="aloha-empty-paragraph" style="text-align: left;"></p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 286.633px; height: 286.633px;"><img
                    style="width: 286.633px; height: 286.633px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/headphones_elias.png" alt=""
                    width="300" height="300"></div>
              </div>
              <p>Your game may already play a sound when we reach a coin or hit an enemy. So in this quick guide we first over how to replace these sounds with your own new sounds and then look at how to create a new sound to the game when you reach
                a new level.</p>
              <h2>Swapping over existing Sounds</h2>
              <p style="text-align: left;">You can create your own sounds in many ways. One good online tool is ChipTone - <a href="http://sfbgames.com/chiptone/">http://sfbgames.com/chiptone/</a></p>
              <p style="text-align: left;"> </p>
              <div class="group_img" style="text-align: left;">
                <div class="image bk-image-editor" style="width: 735px; height: 430px;"><img
                    style="width: 735px; height: 430px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/chiptone.png" alt=""
                    width="735" height="430"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p>Play around and when you have a sound you like click on <strong>SAVE WAV</strong> to save the sound to your computer</p>
              <p> </p>
              <div class="group_img" style="text-align: justify;">
                <div class="image bk-image-editor" style="width: 382px; height: 303px;"><img
                    style="width: 382px; height: 303px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/chiptone_2.png" alt=""
                    width="382" height="303"></div>
              </div>
              <p class="aloha-empty-paragraph"></p>
              <p style="text-align: left;">Now upload your sound to the assets section of your Glitch remix project you can find the assets link on the left of your screen, after clicking on that look for the little upload button on the main part of
                the page. </p>
              <p style="text-align: left;"><br></p>
              <div class="group_img" style="text-align: start;">
                <div class="image bk-image-editor" style="width: 494.005px; height: 294.1px;"><img
                    style="width: 494.005px; height: 294.1px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/assets.png" alt="">
                </div>
              </div>
              <p style="text-align: left;"> <br></p>You can now click on the image of the uploaded sound and click on the Copy Button this will copy the location of the image ready for you to paste it later. <br>

              <p> Now return to your game code and change over the URL of the coin sound in the preload section.</p>
              <p><br></p>
              <div class="group_img" style="text-align: start;">

                <h2>Going over the code</h2>
                <p style="text-align: left;">The code for a minimal example of how to add your own sounds to the game mechanic is shown here - <a
                    href="https://glitch.com/edit/#!/polish-add-your-own-sounds?path=game.js">https://glitch.com/edit/#!/polish-add-your-own-sounds?path=game.js</a><br></p>
                <p>First we need to add a new variable into our list of game variables at the start of our code before any of the functions.</p>
                <pre>  var jumpNoise;</pre>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                      style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/jumpvariable_patch.png" alt="">
                  </div>
                </div>
                <p>Then let's load a jump sound into the game in the <b>Playstate.preload </b>function of our main game.</p>
                <pre>    game.load.audio("jump", "https://cdn.glitch.com/80a5a58a-af34-4348-81df-7c05260f8ceb%2Fjump.wav");<br></pre>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                      style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/jump_preload_patch.png" alt="">
                  </div>
                </div>
                <p>If you want to add your own sound then be sure to replace the link in this code with your own link from your Assets section. <br></p>
                <p>Next let's add this sound to the game, ready to be used. Add the following anywhere in the <b>Playstate.create</b> function. </p>
                <pre>  jumpNoise = game.add.audio("jump"); </pre>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                      style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/jump_create_patch.png" alt="">
                  </div>
                </div>
                <p> Finally, we need to find where to trigger this jump sound to play. In this case, we want it to be in our update function in the if / conditional statement which checks to see if the player is pressing the jump key and if
                  they are then increases the velocity to ping the player up in the air. Find the following code in Playstate.update function and alter it by adding in the jumpNoise.play() code as shown below. <br></p>
                <pre>  if (game.input.keyboard.isDown(Phaser.Keyboard.UP) &amp;&amp; player.body.touching.down === true) {
     player.body.velocity.y = -300
     jumpNoise.play()
  }
</pre>

                <p> <br></p>
              </div>



            </div>



            <div class="box white">




              <div class="chapter-inner">
                <div class="chapter_anchor" id="polish-add-animation-to-your-character"></div>
                <h1>Polish: Add Animation to your Character</h1>
                <p>Animating our player so it looks like it is running is made fairly easy by the Phaser framework. If we had to start coding this whole process from scratch then we would be here a long time. Luckily making simple animations is
                  something that many game players want to do so we have some good coding tools for it.</p>
                <div class="group_img">
                  <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                      style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/game_polish_animate.png" alt="">
                  </div>
                </div>
                <p> </p>
                <h2>What we need to know and what we will do</h2>
                <p> </p>
                <p>To be able to do this step it would help if you knew about the following from this book;</p>
                <p> </p>
                <ul>
                  <li>Understand the core structure of our game - see <a href="https://en.flossmanuals.net/phaser-game-making-in-glitch/_edit/#building-a-world">Building a World</a></li>
                  <li>Understand Conditionals - see <a href="#adding-movement">Adding Movement</a></li>
                </ul>
                <h3>Creating an Animated Character in Piskel</h3>
                <p> </p>
                <p>Let's use the Piskel tool to it an animated character if we want to do so. If you like the character in the picture below then here is a link to it on the Piskel website - <br><a
                    href="https://www.piskelapp.com/p/agxzfnBpc2tlbC1hcHByEwsSBlBpc2tlbBiAgKCogPjNCgw/view"> https://www.piskelapp.com/p/agxzfnBpc2tlbC1hcHByEwsSBlBpc2tlbBiAgKCogPjNCgw/view</a></p>
                <p> </p>
                <p>You should be able to click on <strong>Edit Sprite</strong> to see how the "run cycle" of the hero is made.</p>
                <p> </p>
                <p class="aloha-empty-paragraph"></p>
                <div class="group_img" style="text-align: justify;">
                  <div class="image bk-image-editor" style="width: 803.804px; height: 572.501px;"><img
                      style="width: 803.804px; height: 572.501px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/piskel_2.png" alt=""
                      width="768" height="547"></div>
                </div>
                <p class="aloha-empty-paragraph"></p>
                <p>There is a great tutorial on the whole process of making a running pixel art character here if you want to go into it in detail. <a
                    href="http://www.lessmilk.com/tutorial/pixel-art-run-cycle">http://www.lessmilk.com/tutorial/pixel-art-run-cycle</a></p>
                <p> </p>
                <p>Create your character by adding frames (try cloning them and altering them) and when you are ready then export an image of your animation and follow the steps below to make it animated. Only think about your character
                  running right for now.<br></p>
                <p>When you are happy with it then you can save it to your computer by clicking on the <b>Export button &gt; PNG &gt; Download</b> button. <br></p>
                <div class="group_img" style="text-align: start;">
                  <div class="image bk-image-editor" style="width: 400.855px; height: 473.072px;"><img
                      style="width: 400.855px; height: 473.072px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/piskel_a_2.png" alt="">
                  </div>
                </div>
                <p>Now upload it to the Assets part of your glitch.com project. There is information on how to do that in the <a href="#polish-add-your-own-background">Add a Background</a> section. </p>
                <h2>Going over the code</h2>
                <p style="text-align: left;">The code example for adding an animated character is here <a
                    href="https://glitch.com/edit/#!/polish-add-an-animated-player?path=game.js">https://glitch.com/edit/#!/polish-add-an-animated-player?path=game.js</a><br></p>
                <p>To understand how this sprite sheet works, first of all we are going to add this to project in the <strong>wrong</strong> way. Don't worry we'll fix it up quickly. In the <b>preload function</b> area of code, add or
                  replace the line of code which loads in a player image. You can copy this code to use our example player, or you can then alter it to swap in your own. </p>

                <pre>  game.load.spritesheet("player", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fhero.png?1539353651099")</pre>
                <p> </p>
                <p>Now when you Show the Live page you will see the following image of lots of different version of our hero.</p>
                <p> </p>
                <div class="group_img" style="text-align: justify;">
                  <div class="image bk-image-editor" style="width: 627.972px; height: 470.979px;"><img
                      style="width: 627.972px; height: 470.979px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/adding_movement_2.jpg" alt=""
                      width="600" height="450"></div>
                </div>
                <p class="aloha-empty-paragraph"></p>
                <p>We can use these different frames to create an animation in phaser. To do this we need to change the way we are bringing this image into the game.</p>
                <p>Again in your <b>preload</b> function, change your line like the one below by adding in the two extra parameters, the numbers 36 and 42. <br></p>
                <p> </p>

                <pre>  game.load.spritesheet("player", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fhero.png?1539353651099",<br> 36, 42);</pre>
                <p>This brings the image in as an image 36 pixels wide by 42 high which is right for our example but if you use your own, your image may be of a different size. For example, the default size in Piskel is 32 pixels wide and 32
                  Pixels high. <b>If you are using your own image be sure to change those numbers.</b> <br></p>
                <p>Next to make the player seem like they are walking then we need to add some more code to tell phaser which of the frames to use. The following frames tell phaser to use some frames when our player is running, and frame
                  zero when stopped so add the following to your <b>create function</b>.</p>
                <p> </p>

                <pre>  player.anchor.set(0.5, 0.5);
  player.animations.add("stop", [0]);
  player.animations.add("run", [1, 2], 8, true); // 8fps looped
  player.animations.play("stop");</pre>
                <p style="text-align: left;">Two animations are created here. The first fame, frame [0] is used for the stop animation. The next two [1,2] are used to show our player running. <b>Depending on how many frames your animation has you may
                    need to change these frame numbers around. </b>Now in the <b>update function, </b>we need to add the following code to activate the walking animations when the cursor keys are being pressed. We also need to tell the animation to
                  stop when there is no key being pressed. To do this add the following user-input lines anywhere in the update function.</p>
                <p> </p>
                <pre>  if (player.body.velocity.x !== 0) {
    player.animations.play("run");
  }
  else{
    player.animations.play("stop");
  }
</pre>
                <p>To explain the code above, if the player is moving left or right then the velocity will not be zero, so we start the run animation. Otherwise, play the other animation where our character is stopped. This works but the player is
                  always facing the same way. To flip the player over then add the following lines.</p>
                <pre>  if (player.body.velocity.x &lt; 0) {
    player.scale.x = -1;
  }
  else if (player.body.velocity.x &gt; 0) {
    player.scale.x = 1;
  }</pre>
                <p> </p>
                <p>We can see there that there isn't a flip command but setting the player body scale property to a minus figure has that effect.<br></p>
                <p> </p>
                <div class="group_img" style="text-align: justify;">
                  <div class="image bk-image-editor" style="width: 837.296px; height: 470.979px;">
                    </p>
                    <p>Intentionally Glitching your game can be fun. The process of flipping described above only works neatly if what something called the Anchor point of the sprite is set to be the middle of the sprite instead of the
                      default value of the top left. This means that we can create an interesting glitch in our game by adding the following line to our <b>create</b> function after the player is added.</p>
                    <p> </p>
                    <pre>  player.anchor.set(0.5, 0.5);</pre>
                    <p> </p>
                    <p>Try it out in your game and see how our hero glitches out.</p>
                    <h2>Optional - Adding more animations </h2>
                    <p>Another way to make our player face the direction that they are moving is to create your animation so that it has frames which point the other direction. There is a Flip tool which lets you do that in Piskel (on the right with
                      2 tall triangles). </p>
                    <p>If you take this approach then you will need to create new animations - say "runleft" and "runright" and choose the appropriate frames. They you will need to change the code above so that instead of flipping the
                      character</p>
                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-add-soundtrack-music"></div>
                    <h1>Polish: Add Soundtrack Music</h1>
                    <p>Adding background music to a game gives a lot of advantages. You
                      can really set the tone of the kind of game you are creating.</p>
                    <p class="aloha-empty-paragraph"></p>
                    <div class="group_img" style="text-align: justify;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/game_polish_soundtrack.png" alt=""
                          width="800" height="503"></div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the Code: what we need to know and do</h2>
                    <ul></ul>
                    <div>The code for a minimal example of the Add a Music Soundtrack
                      game polish element is shown here - <br><a href="https://glitch.com/edit/#!/add-polish-soundtrack?path=js/game.js">https://glitch.com/edit/#!/add-polish-soundtrack?path=js/game.js</a></div>
                    <div></div>

                    <p>We can add a sound track to our game to act as a bit of
                      background music or a sound effect while we play. For this demo
                      let's just add a noise that lasts for 2 seconds.</p>
                    <p>To do this we load a new sound to our project in preload with
                      the following linke</p>
                    <pre>  game.load.audio('backgroundnoise' , 'https://cdn.glitch.com/04f51d70-ab26-4960-8e87-12f2aa251cff%2Fbackground_noise.wav');</pre>
                    <p>Then we can create a variable with that loaded noise with the
                      following lines in our <strong>playState.create</strong>
                      function</p>
                    <pre>  var backgroundNoise = game.sound.add("backgroundnoise", 1, true);
  backgroundNoise.play();</pre>
                    <p>The <strong>game.sound.add()</strong> function here has three
                      parameters.</p>
                    <ol>
                      <li>The "backgroundnoise" here is the name of the sound as defined
                        in preload</li>
                      <li>The number 1 here is the volume of the sound. To make it lower
                        you could halve the volume by changing it to 0.5 for example.</li>
                      <li>the true value here says if we should loop this sound or not,
                        false plays it once, true means it does play over and over
                        again.</li>
                    </ol>
                    <p>The default for the volume parameter is level 1 (100%), and the
                      default value for loop is false, so it only plays once.</p>
                    <p>So in this case we have to include a value for the volume
                      parameter if we want to set the third loop parameter to true or the
                      function will get confused.</p>
                    <p><br></p>

                    <p class="aloha-editing-p">You may notice a glitch! Adding a background track in this way may result in multiple versions of your tune being played if you get killed. To avoid this add the following line
                      before the two lines adding and playing your audio in <b>playState.create</b>. </p>
                    <pre>  game.sound.stopAll();
</pre>
                    <p>
                      This will stop the multi versions of your song playing at the same time.
                    </p>


                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-animate-sprite-when-zapped"></div>
                    <h1>Polish: Animate Sprite when Zapped</h1>
                    <p>Death and killing seem like strong words so let's talk about
                      getting zapped. Being zapped loses it's sting when you can be
                      reborn so easily. But to give the sense of dying rather than just
                      disappearing we can add an animation to our player or enemy sprites
                      so the gamer really know what is going on.</p>
                    <p class="aloha-empty-paragraph"></p>
                    <div class="group_img" style="text-align: justify;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img style="width: 837.296px; height: 526.45px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                          src="images/game_polish_animate_zapped_sprite.jpg" alt=""
                          width="800" height="503"></div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the Code: what we need to know and do</h2>
                    <p>Better death here needs us to alter the function called when
                      player and enemy overlaps. Let's concentrate on animating the
                      enemy, we need to change the sprite animation but also add a delay
                      into the process of restarting the game so we can see the animation
                      play out. The code for a minimal example of the Animate Sprite when
                      Zapped game polish element is shown here - <a href="https://glitch.com/edit/#!/add-polish-animate-zapped-sprite?path=game.js">https://glitch.com/edit/#!/add-polish-animate-zapped-sprite?path=game.js</a></p>
                    <div></div>
                    <h3>Going over the code:</h3>
                    <p>First we need to make sure we are adding an an image with more than one frame in it as an animation in our <b>playState.preload</b> area. Be sure to remove any other mentions of a player here. Here is an example. </p>

                    <pre>  game.load.spritesheet("player", "https://cdn.glitch.com/21c64338-5965-4de0-a478-2af819796de2%2Fpacmansprites.png",16,16);

</pre>
                    <p>We need to add a die animation in the <b>playState.create</b> part of the code after we have added the player to the game. This code does it.</p>
                    <pre>  player.animations.add('chomp', [0,1,2], 12,true);
  player.animations.add('die', [ 3, 4, 5, 6,7,8,9,10,11,12,13,14,15,16], 12);
  player.animations.play('chomp');
</pre>
                    <p>Now have a look at the <b>hitHazard </b>function;</p>
                    <pre>  var hitHazard = function (player, enemy) {
    splatNoise.play();
    enemy.kill();
    player.body.velocity = 0;
    player.animations.play('die');
    game.input.keyboard.disabled = true;
    game.time.events.add(1200, restart, this);
  };

</pre>
                    <p>Here a noise is played and then this code gets rid of the enemy the player is stopped by setting velocity to 0 and the keyboard input is turned off so that we can't move the player around anymore. The animation is now
                      played to show that the player is well and truly zapped. <br></p>
                    <p>Then we use <strong>a function for a timed event</strong>
                      to restart the game. To see that animation we have to delay calling the restart function. In this case we are delaying for 1200
                      miliseconds which is just over a second. </p>
                    <p>Lastly as we turned off the keyboard input. We need to turn it back on again in our restart function. </p>
                    <pre>  var restart = function () {
    game.input.keyboard.disabled = false;
    currentLevel = 1;
    game.state.start("play", true, false, currentLevel);
  };
</pre>
                    <p>That's it. We hope you enjoy adding this element of polish to
                      your game to animated a zapped sprite.</p>



                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-screen-shake"></div>
                    <h1>Polish: Screen Shake</h1>
                    <h2>Polish: Screen Shake when Zapped</h2>
                    <p>Rather than just disappearing we can add an animation to the
                      whole screen to give our game player feedback that something bad
                      has happened. We can do this by shaking the screen.</p>
                    <div class="group_img">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img style="width: 837.296px; height: 526.45px; filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                          src="images/game_polish_shake_screen_effect.png" alt="">
                      </div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <p class="aloha-empty-paragraph"></p>
                    <h3>Check the Code: what we need to know and do</h3>
                    <p>Better death here needs us to alter the function called when
                      player and enemy overlaps. Let's concentrate on animating the
                      enemy, we need to change the sprite animation but also add a delay
                      into the process of restarting the game so we can see the animation
                      play out. So we'll need the following background knowledge;</p>
                    <ul>
                      <li>Collision detection using overlap() function- see <a href="https://3m.flossmanuals.net/#adding-a-reward/">
                          Adding a Reward</a></li>
                    </ul>
                    <div>The code for a minimal example of the Shake Screen when Zapped
                      game polish element is shown here - <a href="https://add-polish-shake-screen.glitch.me/">https://add-polish-shake-screen.glitch.me/</a></div>
                    <div></div>
                    <h4>Going over the code:</h4>
                    <p>Have a look at an updated hitHazard function - if you have sounds added to your game etc, be sure not to remove those. Just be sure to copy and add the lines in bold;</p>
                    <pre>var hitHazard = function (player, enemy) {
  player.kill();
  splatNoise.play();
<b>  game.camera.shake(0.05, 500);
  game.time.events.add(1000, restart, this);</b>
};
</pre>
                    <p>We just need to add a line about shaking the camera position of
                      the whole game into the hitHazard function.</p>
                    <p>You can see that to make this work effectively in our game we replaced the line calling restart(); in the <b>playState.hitHazard</b> function with a line adding a time event to wait for one second before restarting the game.
                    </p>
                    <p><br></p>
                    <p><strong>Bonus:</strong> If you don't like the way everything
                      shakes here then the shake effect can be done only on limited
                      sprites or groups for a demo of that see here. <a href="https://glitch.com/edit/#!/add-polish-shake-sprites-only?path=game.js">
                        https://glitch.com/edit/#!/add-polish-shake-sprites-only?path=game.js</a></p>



                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-explosions-using-particles"></div>
                    <h1>Polish: Explosions using Particles</h1>
                    <p>We are going to make our death more dramatic by using particles
                      to make it look like our player explodes.</p>
                    <p class="aloha-empty-paragraph"></p>
                    <div class="group_img" style="text-align: justify;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: translate(0px, 0px) rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);"
                          src="images/game_polish_explosion.png" alt=""
                          width="800" height="503"></div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the Code: what we need to know and do</h2>
                    <p>Adding an explsion uses the following knowledge which we covered
                      in another chapter;</p>
                    <ul>
                      <li>Collision detection using overlap() function- see <a href="https://3m.flossmanuals.net/#adding-a-reward/">
                          Adding a Reward</a></li>
                    </ul>
                    <div>The code for a minimal example of the Explosions using
                      Particles game polish element is shown here - <a href="https://glitch.com/edit/#!/add-polish-explosions-using-particles?path=game.js">https://glitch.com/edit/#!/add-polish-explosions-using-particles?path=game.j</a>s</div>
                    <div></div>
                    <h3>Going over the code:</h3>
                    <p>We make the explosion make it grey as a tribute to Nintendo's
                      censoring of Mortal Kombat turning red blood into grey sweat to
                      make the violence less graphic!.</p>
                    <p>To do this we import an image of a grey pixel block and name it
                      sweat which is used by a new function which sets up a "particle emitter". These little blocks will be the particle explode out of
                      this emitter.</p>
                    <pre>var setParticles = function() {
      sweat = game.add.emitter(0, 0, 20);
      sweat.makeParticles('sweat');
      sweat.setYSpeed(-150, 150);
      sweat.setXSpeed(-150, 150);
      sweat.gravity = 0;
};</pre>
                    <p>This code creates a particle emitter, which is suitable as a
                      base for our explosion. The values (0,0,20) mean that the explosion
                      will start from the centre and and will have a maximum of 20
                      particle blocks in the explosion.</p>
                    <p>Add the following code at the start of the hitHazard function to start the explosion.</p>
                    <pre>    sweat.x = player.x;
    sweat.y = player.y+10;
    sweat.start(true, 300, null, 20);</pre>
                    <p>This sets up where the explosion will happen, which is a bit
                      above where the player is, and starts the process.</p>
                    <p>To make this work effectively in our game we will also need to replace the line calling restart(); in the hitHazard function with the following line to wait for one second before restarting the game.</p>
                    <pre>  game.time.events.add(1000, restart, this);</pre>
                    <p> </p>
                    <p><b>Understanding the code</b><br></p>
                    <p>start(true, lifespan=0, null, total) - true, means the
                      emitter is an explosion type, 300 is how long it will last, null is
                      if it will repeat so here it won't it's a one off, and 20 is the
                      number of particles that will make up the explosion. .</p>
                    <p>There is full information in the documentation below:</p>
                    <p><a href="https://photonstorm.github.io/phaser-ce/Phaser.Particles.Arcade.Emitter.html">
                        https://photonstorm.github.io/phaser-ce/Phaser.Particles.Arcade.Emitter.html</a></p>
                    <p><a href="https://photonstorm.github.io/phaser-ce/Phaser.Particles.Arcade.Emitter.html#start">
                        https://photonstorm.github.io/phaser-ce/Phaser.Particles.Arcade.Emitter.html#start</a></p>



                  </div>



                </div>



                <h1 class="section">GAME SPACE</h1>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-add-your-own-background"></div>
                    <h1>Game Space: Add your own Background</h1>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.297px; height: 526.45px;"><img
                          style="width: 837.297px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_background_image.jpg" alt="">
                      </div>
                    </div>
                    <p>Adding our own background can really start to make the game our own. You can be really creative here by using craft materials or drawing your background with crayon or paint.</p>
                    <p>In this tutorial, we look at creating a pixel art background and importing it into our game.</p>
                    <p>If you want a quick link to the code to do this you can look at this example: - <a
                        href="https://glitch.com/edit/#!/polish-add-background-image?path=game.js">https://glitch.com/edit/#!/polish-add-background-image?path=game.js</a> <br></p>
                    <p> </p>
                    <h2>What we need to know and what we will do<br></h2>
                    <p> </p>
                    <p>To be able to do this step it would help if you knew about the following from this book;</p>
                    <p> </p>
                    <ul>
                      <li>Understand the core structure of our game - see <a href="#building-a-world">Building a World</a><br></li>
                    </ul>
                    <p>This guide will help you with the following stages; reate an image for your background, exported that image as a suitable size, upload an image of your background to your project, add the code to add background. <br>
                    </p>
                    <h3>Creating and Uploading your Images</h3>
                    <p>Create a background in piskel. Create a Sprite. Then Resize to 55 pixels wide to 40 pixels high.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 360.038px; height: 347.478px;"><img
                          style="width: 360.038px; height: 347.478px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/resize_piskel.PNG" alt="">
                      </div>
                    </div>
                    <p>Draw a simple background and click on Export image button on the right and click on the PNG tab then Spritesheet file explort &gt; Download. Move the size slide to be x10 so the image will be 550 by 400 wide. </p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 685.536px; height: 437.487px;"><img
                          style="width: 685.536px; height: 437.487px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/download_2.PNG" alt="">
                      </div>
                    </div>
                    <p>Now upload your sound to the assets section of your Glitch remix project you can find the assets link on the left of your screen, after clicking on that look for the little upload button on the main part of the page.
                    </p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 500.285px; height: 234.443px;"><img
                          style="width: 500.285px; height: 234.443px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/assets.png" alt="">
                      </div>
                    </div>

                    <p>You will then be able to get the address of the image by clicking on it and clicking the Copy button.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 676.117px; height: 227.117px;"><img
                          style="width: 676.117px; height: 227.117px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/simplebackground_copy.png" alt="">
                      </div>
                    </div>
                    <h3>Adding our new code:</h3>
                    <p>You can open the code for a minimal example of the code to add a background image is here - <a
                        href="https://glitch.com/edit/#!/polish-add-background-image?path=game.js">https://glitch.com/edit/#!/polish-add-background-image?path=game.js</a></p>
                    <p>We need to load a background image to be ready for our game to use by adding a line like the following to our <b>preload function</b></p>
                    <pre>  game.load.image("background", "https://cdn.glitch.com/07341419-e9df-clouds-h.png");</pre>

                    <p>Then add the following the <b>create</b> part of the code</p>
                    <pre>  var background = game.add.sprite(0, 0, "background");
  background.width = 550;
  background.height = 400;
</pre>
                    <p>If you are not happy with the width or height of your background you can make alterations here. </p>
                    <p>That's it. We hope you enjoy adding this element of polish to your game</p>
                    <p> <br></p>
                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="game-space-add-game-over-screen"></div>
                    <h1>Game Space: Add Game Over Screen</h1>
                    <p>The game mechanic of jumping on enemies to get rid of them has
                      been made very popular by Mario games. It is a great way to use the
                      jumping dynamic in a creative way. We can use the same technique as many Mario games use to do
                      this. An enemy will kill our player unless our player is falling
                      when they make contact.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/game_space_gameover.png" alt="" >
                      </div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the Code: what we need to know and do<br></h2>
                    <p>Our mechanic relies on us being able to check if we are jumping
                      on our enemy. We will do this by checking to see if our player is
                      on the way up or coming down from a jump.</p>
                    <p>To be able to do this step it would help if you knew about the following from this book;<br></p>
                    <ul>
                      <li>Understand how our game structure works - see <a href="#adding-game-states">Understanding our Game Structure</a></li>
                    </ul>
                    <div></div>
                    <h3>Going over the code:</h3>
                    <p> The code for a minimal example of the Game Over screen is shown here - <a href="https://glitch.com/edit/#!/game-over-state-add?path=game.js">https://glitch.com/edit/#!/game-over-state-add?path=game.js</a><br>Even the
                      most simple video / computer games have several states, say an welcome menu, a play state, a win state and a game over / you lose state. We can add these different states into our game. At the moment we only have one state our
                      "Play" state. In our code this is an object called <b>playState</b>.</p>
                    <p>At the moment, if you win or if you lose the game restarts. </p>
                    <p>To solve that let's add code which recognises when you have been zapped by an enemy and shows a <b>game over screen</b>. Let's keep the game over screen very simple and just add some Game Over text and a Timer to restart the
                      main play state after 3000 miliseconds (3 seconds).</p>
                    <p>Add the following to your code very close to the very end of your code just before the end lines where you have the game.add.state line. </p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                          style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameover_states_patch_1.png" alt="">
                      </div>
                    </div>
                    <pre>    var gameOverState = {};

    gameOverState.create = function () {
        this.gameoverText = game.add.text(10,10, "Game Over", "0:00");
        this.gameoverText.fill = "#ffffff";
        this.time.events.add(3000, this.restart, this)
    };
    gameOverState.restart = function(){
        game.state.start('play');
    };</pre>
                    <p>This creates a completely new state with its own functions. We only need create and restart here. The create function add some text to the screen and then after 2 seconds calls the restart function of this new state. The
                      restart function here is is similar to our normal one it just restarts the other play state.</p>
                    <p>Towards the the end of our project code you will see a line containing <i>game.state.add</i> for our play state, Just after that you can add one for game over state</p>
                    <pre>game.state.add("play", playState);
game.state.add("gameover", gameOverState);
game.state.start("play");</pre>
                    <p>We also need to change what happens when the player hits the hazard to indicate it is "game over". If you are writing your code from scratch, then replace the line in the <strong>hitHazard</strong> function which reads
                      game.state.start("play"); with the following line which is going to start our game over state;</p>
                    <pre>var hitHazard = function () {
  player.kill();
  game.state.start("gameover");
};</pre>
                    <p>We you may well want to create two more states, one for an opening scene or starting menu called startState and another called winState for if you win the game. We haven't written or added these state objects to our
                      code here. But you can follow the same pattern to see how they might be implemented.</p>
                    <p>There is a chapter specifically looking at creating a starting scene too - see <a href="#polish-create-a-cut-opening-scene">Adding a Cut Scene</a>.</p>
                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="game-mechanic-extending-the-game-size"></div>
                    <h1>Game Mechanic: Extending the Game Size</h1>
                    <p>The game mechanic or rather element of changing the space the
                      player can move around in is essential to many platform games. Let's look at how we can extend our world so that when our
                      player starts to move towards the edges, the world scrolls to
                      reveal more space.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_gameSize.jpg" alt="">
                      </div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the Code: What we need to know and do<br></h2>

                    <div>To make this work we need to do three main things.</div>
                    <div>
                      <ul>
                        <li>increase the size of our world size without increasing the
                          screen size</li>
                        <li>set up a "camera" to follow our player as they move<br></li>
                      </ul>
                    </div>
                    <div>The code for a minimal example of the Extending the Game Size
                      is shown here - <a href="https://glitch.com/edit/#!/game-mechanic-extend-game-world?path=js/game.js">https://glitch.com/edit/#!/game-mechanic-extend-game-world?path=js/game.js</a></div>
                    <div></div>
                    <h3>Going over the code:</h3>
                    <p>First note that we should add a new variable var background at
                      the start of our code. Then have a look at some key code in the create function;</p>
                    <pre>  game.world.setBounds(0, 0, 1100, 400);</pre>

                    <p>We also set the <strong>bounds of the world</strong> to be wider
                      than the game size created when we created the game object. Here we
                      have a width of 1100, you can change this to experiment with bigger
                      or smaller worlds.</p>
                    <p>To make the focus of the game follow the player, so that for the
                      most part the player stays in the centre of the screen, we set a
                      camera to follow the player and for the background to also move
                      with along with the camera</p>
                    <pre>  game.camera.follow(player);
</pre>
                    <p>Finally if you are using our grid game template then you will need to make the design of the game bigger. Have a look at the code example above for a game which has done that. Or you can just play around.<br></p>
                    <p>If you want to have a moving background image you can use a tileSprite. There are more details on using tileSprites including a nifty
                      tip right at the end to use a parallax effect <a href="https://docs.idew.org/video-game/project-references/phaser-coding/tilesprite-scrolling">
                        in a chapter here</a> <sup class="endnote" data-id="f252fae6-7121-4910-8487-d86f3c038dd0"><a href="#endnote-f252fae6-7121-4910-8487-d86f3c038dd0">1</a></sup><span>.</span></p>
                    <p>That's it. We hope you enjoy adding this game dynamic to your
                      game to extend your game size.</p>
                    <ol class="endnotes" dir="ltr">
                      <li id="endnote-f252fae6-7121-4910-8487-d86f3c038dd0">https://docs.idew.org/video-game/project-references/phaser-coding/tilesprite-scrolling</li>
                    </ol>



                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-scaling-our-game-and-sprites"></div>
                    <h1>Game Space: Scaling our Sprites</h1>
                    <p>We can make our sprites appear bigger on our web page. This may be useful is case you just want to change how they look, but it can also make for some interesting changes in game play too as this examples shows. <br>
                    </p>
                    <p class="aloha-empty-paragraph"></p>
                    <p class="aloha-empty-paragraph"></p>
                    <div>
                      <div class="group_img" style="text-align: start;">
                        <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                            style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_scaling.jpg" alt="">
                        </div>
                      </div>
                      <h2>Check the Code: what we need to know and do</h2>
                    </div>
                    <div>The code for a minimal example of the Scaling our Sprites game is shown here - <a
                        href="https://glitch.com/edit/#!/grooow-examples-mechanic?path=js/game.js">https://glitch.com/edit/#!/grooow-examples-mechanic?path=js/game.js</a></div>
                    <div></div>
                    <h3>Going over the code:</h3>
                    <p>Have a look at our code you will notice the following lines in the <b>PlayState.create function</b> ;</p>
                    <pre>  player.body.gravity.y = gravity;
  player.scale.setTo(0.7);
  player.anchor.setTo(0.5,0.5);</pre>

                    <p>To make our game more interesting here we'll start with the player a bit smaller by setting the scale to be 70 percent, i.e. 0.7 rather than 1. As we are going to change the size later we also need to change the anchor
                      of the sprite to avoid a jumping effect on resizing. <br></p>
                    <pre>  var takeCoin = function (player, coin) {
    coin.kill();
    winNoise.play();
    player.scale.setTo(player.scale.x * 1.2); <br>    player.body.gravity.y += 200;<br>  };
</pre>
                    <p>To make out player bigger the scale is increased by multiplying it by 1.2. At the same time, the level of gravity is increased as well to give the impression that our player sprite weighs more too. </p>
                    <p>You can see that this process as well as changing the look can also change the way our game plays. <br></p>

                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="game-space-adding-levels"></div>
                    <h1>Game Space: Adding Levels</h1>
                    <p>To allow our game to be playable more than one screen and keep the player coming back for more we can add levels get harder and harder. Here we will add the ability to use more than one level layout and have control
                      over where we place our enemies, platforms and rewards (coins). We will do this in two ways. Firstly we will create separate functions to load those elements, and then we'll explore a way to load in platforms and coins to
                      collect from data objects in the json format.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_moreLevels.jpg" alt="">
                      </div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check our code: what we need to know and do<br></h2>
                    <p>There is some background knowledge in this book that will be useful for us in getting this mechanic to work;</p>
                    <ul>
                      <li>Adding Sprites in Groups - see <a href="https://3m.flossmanuals.net/#create-a-game-space/"> Create a Game Space</a></li>
                      <li>Working with Loops - see <a href="https://3m.flossmanuals.net/#adding-a-reward/"> Adding a Reward</a></li>
                      <li>Have a good grip of how all our code fits together - see <a href="#adding-game-states">Understanding our Game Structure</a><br></li>
                    </ul>

                    <div></div>
                    <h3>Going over the code:</h3>
                    <p>The code for a minimal example of the code for adding levels in a simple way here- <a
                        href="https://glitch.com/edit/#!/gamespace-more-levels-simple?path=js/game.js">https://glitch.com/edit/#!/gamespace-more-levels-simple?path=js/game.js</a><br></p>
                    <p>Note this global variable at the start of our code outside of any particular function. It is located here as it needs to be used by more than one function;</p>
                    <pre> var currentLevel = 1;
</pre>

                    <p>This <b>currentLevel</b> variable keeps a track of what level we are on. It is set to <b>1</b> to start off with. Now in the create function - find the section where you design your levels using grids. Copy the
                      formatting of levels one to three, to create a new level4 variable. This will look like the code below. <br></p>

                    <pre>    var level4 = [
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                 ",
        "                o",
        "xxxxxxxxxxxxxxxxx"
    ];
</pre>
                    <p>Next we also need to add another option to the section where the code finds out what level we are on and then sends that level to the loadLevel function to make the coins, platforms and enemies appear on the screen.
                      Add this code to that section. <br></p>
                    <pre>  } else if (currentLevel === 4) {
    loadLevel(level4);
  }
</pre>


                    <p>We can keep adding more levels and using this way of designing them to add challenge to our game.<br></p>
                    <h3>Having more control - Adding our different kinds of coins / enemies / platforms</h3>
                    <p>When we use the grid layout in this way there are limits in the way we use it. For example if we want to create a larger enemy than 32 pixels wide or high then we won't be able to do it well using this grid. </p>
                    <p>We have some options for how to overcome this limit. One way is to get rid of this grid completely and to design our levels from scratch, another is to keep the grid but also to add in our own elements to it. </p>
                    <p>Let's take the example of adding our own larger, or moving enemy. We can follow instructions for how to create one in this chapter - <a href="#game-mechanic-add-moving-enemies">Adding a moving enemy</a>.</p>
                    <p>In short we add 4 lines to our create function. If we are using our Grid Game Template, this has the side effect of making that moving enemy appear in the same place on every level. So to avoid that happening we will
                      add the same code but we will add it only to level 1 by placing it in the following location. </p>

                    <pre>    if (!currentLevel || currentLevel === 1) {
      loadLevel(level1);
      // add extra code for just level one here<br>
      var enemy1 = game.add.sprite(370, 320, "enemy");
      enemies.add(enemy1);
      var tween1 = game.add.tween(enemy1);
      tween1.to({x:170, y: 320}, 2000, null, true, 0,-1,true);
</pre>
                    <p>We can see here that this will only appear on the first level. </p>
                    <p>We can now add our own moving enemies, or special power ups and custom size platforms, coins or hazards for each level.Have fun with this!<br></p>
                    <h3>Other ideas to extend this mechanic</h3>
                    <p>Other ideas to extend this mechanic could include</p>
                    <ul>
                      <li>Adding a Game Over state - see <a href="#adding-game-states">Understanding our Game Structure</a><br></li>
                      <li>Loading platform and coin data more efficiently using Json - see <a href="#game-mechanic-adding-levels">Add Level Data with Json</a><br></li>
                    </ul>
                    <p>That's it. We hope you enjoy adding this game element to your game.</p>



                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="game-mechanic-keys-and-doors"></div>
                    <h1>Game Space: Keys and Doors</h1>
                    <p>The game mechanic of collecting keys to be able to open doors to enter other spaces is well used in platform games to increase a sense of adventure. Let's look at one way to do this. We draw on the code of a<a
                        href="https://mozdevs.github.io/html5-games-workshop/en/guides/platformer/win-condition/"> similar tutorial here by Belen Albeza</a><span>.</span></p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_keysDoors.jpg" alt="">
                      </div>
                    </div>
                    <p class="aloha-empty-paragraph"></p>
                    <p class="aloha-empty-paragraph"></p>
                    <h2>Check the code: what we need to know and do<br></h2>
                    <p>There is some background knowledge in this book that will be useful for us in getting this mechanic to work - adding More levels - <a href="https://3m.flossmanuals.net/#adding-other-levels/"> Game Mechanic:
                        Adding Levels</a></p>
                    <h3>Going over the code:</h3>

                    <p>The code for a minimal example of the Keys and Doors game mechanic is shown here - <a href="https://glitch.com/edit/#!/key-and-doors-grid?path=js">https://glitch.com/edit/#!/key-and-doors-grid?path=js</a></p>
                    <p>Make sure you have or add these variables at the start of our code that are located outside of any one function as they are needed by more than one function.</p>
                    <pre>  var hasKey = false;
  var key;
  var door;
</pre>
                    <p>In the <b>playState.preload function</b> we will need to load some images for our keys and doors. Here are two lines which you can copy and use while testing. You can replace these images with your own. </p>
                    <pre>  game.load.image("key", "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fkey.png");
  game.load.spritesheet("door2, "https://cdn.glitch.com/5d318c12-590d-47a1-b471-92a5dc0aae9d%2Fdoor.png", 42, 66);
</pre>
                    <p>Then we will create a key and door for our first level. Add the following code to our if statement in the <b>playState.create function</b> which controls which level is loaded.</p>

                    <pre>  if (!currentLevel || currentLevel === 1) {
    loadLevel(level1);
    // add extra code for just level one here
    key = game.add.sprite(100,25,"key");
    door = game.add.sprite(20,260,"door");
    door.animations.add("open", [1, 2], 8); // 8fps
</pre>
                    <p>Then when the play is happening. We want to set up overlap conditions in our <strong><b>playState.</b>update</strong> <b>function</b> for player and keys and doors.</p>
                    <pre>  game.physics.arcade.overlap(player, key, hitKeys);
  game.physics.arcade.overlap(player, door, hitDoors);</pre>
                    <p>We then create new functions mentioned in these overlap statements. Create these functions <b>after your update function</b> in your code. </p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 898px; height: 505.519px;"><img
                          style="width: 898px; height: 505.519px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/new_functions_patch_1.png" alt="">
                      </div>
                    </div>
                    <p>In hitKeys we want to kill off the key and set our hasKey variable to true, ready to open the door.</p>
                    <pre>var hitKeys = function (player, key) {
    key.kill();
    hasKey = true;
};</pre>
                    <p>For the hitDoor function we need to check to see if the player has already picked up the key, as we don't want anything to happen if that is not the case, or if they haven't collected all the coins yet too. <br></p>
                    <pre>var hitDoors = function (player, door) {
    if (hasKey === true &amp;&amp; coins.total === 0){
      door.animations.play("open");
      hasKey = false;
      player.kill();
      game.time.events.add(1000, nextLevel, this);
    }
};</pre>
                    <p>If the player does have the key then we want to play the animation of the door opening, then reset the value of hasKey as we don't want that to continue to the next level, make the player disappear, and then call the next level
                      function after one second so that we get to see the door opening.</p>
                    <p>We also need to comment out the code which would allow the player to progress to the next level if they have just collected all the coins. <br></p>

                    <pre>    // MAKE SURE TO COMMENT OUT OR REMOVE THE FOLLOWING CODE
    //if the player has collected all the coins move them on to the next level
    // if (coins.total === 0) {
    //     nextLevel();
    // }
</pre>



                    <p>That's it. We hope you enjoy adding this game space element to your game to allow the use of keys and doors to encourage exploration.</p>




                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="polish-create-a-cut-opening-scene"></div>
                    <h1>Polish: Create a Cut / Opening Scene</h1>
                    <p>Cut scenes are the little bits between game levels. In one classic early cut scene Pac Man is chase off the screen persued by a ghost but then returns having grown in size to chase the ghost back. These scenes act as an
                      introduction or break up game play and serve other purposes like "scenes could be used to show conversations between characters, set the mood, reward the player, introduce new gameplay elements, show the effects of a player's
                      actions, create emotional connections" etc <sup class="" data-id="ab4bfd58-9d75-4fa5-989a-6bce91864a9b"><a href="#endnote-ab4bfd58-9d75-4fa5-989a-6bce91864a9b">1</a></sup>.</p>
                    <div class="group_img" style="text-align: start;">
                      <div class="image bk-image-editor" style="width: 837.296px; height: 526.45px;"><img
                          style="width: 837.296px; height: 526.45px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/gameSpace_cutscene.jpg" alt="">
                      </div>
                    </div>
                    <h2>Check your Code: What we need to know and do </h2>
                    <p>To create cut scenes we'll be learning more about animation using tweens and timing. You can check your code against our completed example here - <a
                        href="https://glitch.com/edit/#!/cut-scene-tween-demo">https://glitch.com/edit/#!/cut-scene-tween-demo</a></p>If we are working as a team,then this is also a great project for someone who is drawn to the art and narrative side
                    of game to sink their teeth into. <br>
                    <p> </p>
                    <p>To follow this tutorial you can start with this starter project which is the base our the hands on example. <a
                        href="https://glitch.com/edit/#!/cut-scene-starter?path=game.js:15:0">https://glitch.com/edit/#!/cut-scene-starter?path=game.js:15:0</a></p>
                    <p> </p>
                    <p>This project has a similar structure to the game we have been working on but it is going to be a different object called <strong>startState</strong> (as well as a minimal playState). Have a look at the code to see the familar
                      pattern of preload, create and update functions.</p>
                    <p> </p>
                    <h4><strong>Adding Timer Events</strong></h4>
                    <p> </p>
                    <p>To tell a story using a cut scene we are going to move our character and get them to say things one after the other. To do this we are gong to have to understand time events to say when something will happen. Add the
                      following code to the <strong>create:</strong> function to add our characters to the game but set the visibility to be false so it don't appear right away.</p>
                    <p> </p>

                    <pre>  player = game.add.sprite(20, 215, "player");
  player.animations.add("right", [1, 2, 3, 4], 6, true);
  player.scale.setTo(1.5);
  player.visible = false;</pre>

                    <p> </p>
                    <p>One second after it loads after our game loads we want to show the image of our player which is now a space person. To do this we will add a thing called a time event to the game. Add this at the end of the create function</p>
                    <p> </p>

                    <pre>  game.time.events.add(1000, this.playerShow, this);</pre>

                    <p> </p>
                    <p>This function, at a very simple level like this, uses three parameters;</p>
                    <p> </p>
                    <blockquote>
                      <ol>
                        <li>the time when you want something to happen</li>
                        <li>the name of the function you want to run</li>
                        <li>the context you want the function called in (don't worry to much about this bit it's normally just <em><strong>this</strong></em>)</li>
                      </ol>
                    </blockquote>
                    <p> </p>
                    <p>We now need to write the playerShow function and add it to the startState object.</p>
                    <p> </p>

                    <pre>  startState.playerShow = function() {
    player.visible = "true";
  };
</pre>

                    <p> </p>
                    <p>Run the code by clicking on <em><strong>Show Live</strong></em> to see the result</p>
                    <p> </p>
                    <h4><strong>Adding Movement via Tweens</strong></h4>
                    <p> </p>
                    <p>So far so good. Now let's get this player to move. We'll repeat the process above by adding a timed event which calls a new function, and then writing this new function which will move our player. Add the following line to
                      create function</p>
                    <p> </p>
                    <pre>    game.time.events.add(2000, this.playerMove, this);</pre>
                    <p> </p>
                    <p>This will start the player moving two seconds after the start of this startState.</p>
                    <p> </p>
                    <p>Now let's write this function to use a Tween to move our player sprite.</p>
                    <p> </p>

                    <pre>  startState.playerMove = function () {
    var tween = game.add.tween(player);
    tween.to({x: 70, y: 215}, 1000, null, true, 0, 0, false);
    player.animations.play("walk");
  };
</pre>
                    <p> </p>
                    <p>Here we create a tween and set the tween to parameters, this process is outlined in the hazards and enemies chapter of this book.</p>
                    <p> </p>
                    <p>We also start the player animation of our character walking.</p>
                    <p> </p>
                    <h4><strong>Relative Positioning and Text</strong></h4>
                    <p> </p>
                    <p>Now let's make our player say something. We'll repeat the same process as above.</p>
                    <p> </p>

                    <pre>  game.time.events.add(3000, this.speech1, this);
</pre>
                    <p>And then write a function which will show a speech bubble graphic as described in the section below.</p>
                    <p> </p>

                    <pre>  startState.speech1 = function () {
    player.animations.stop();
    var speech1 = game.add.sprite(player.x - 70, player.y - 50, "speech1");
  };</pre>

                    <h3>Hands On - Creating More Graphical Assets</h3>
                    <p>Part of the fun o of making your own games is to create your
                      graphics and characters. There are many tools to do this available
                      online for free download, and some which allow you instant
                      creativity by allowing you to work in your web browser. Here are
                      some of the tools we use<strong>.</strong></p>
                    <p><strong>Creating Pixel Characters with Piskel:</strong> We have
                      already played with Piskel to create our own characters. You can
                      create all sorts of pixel art for your cut scene using this
                      tool.</p>
                    <p><a href="http://piskelapp.com/">http://piskelapp.com/</a></p>
                    <p><strong>Creating Speech Bubbles with Wigflip:</strong> This fun
                      website does a good job of creating simple and quick pixel art
                      speech bubbles</p>
                    <p><a href="http://wigflip.com/ds/">http://wigflip.com/ds/</a></p>
                    <p><strong>Creating general text at Textcraft:</strong> This is a
                      fantastic and very flexible site for creating funky looking game
                      text graphics. You must try it.</p>
                    <p><strong><a href="https://textcraft.net/"></a></strong></p>
                    <div class="group_img" style="text-align: justify;">
                      <div class="image bk-image-editor" style="width: 486.867px; height: 282.383px;"><strong><a href="https://textcraft.net/"><img
                              style="width: 486.867px; height: 282.383px; transform: rotate(0deg) scaleX(1) scaleY(1); filter: contrast(100%) brightness(100%) blur(0px) opacity(100%) saturate(100%);" src="images/text_craft_450.png" alt=""
                              width="450" height="261"></a></strong></div>
                    </div>
                    <p><a href="https://textcraft.net/">https://textcraft.net/</a></p>

                  </div>



                </div>



                <div class="box white">




                  <div class="chapter-inner">
                    <div class="chapter_anchor" id="game-mechanic-adding-levels"></div>
                    <h1>Game Mechanic: Adding Levels using Json</h1>
                    <p>Here we will add the ability to use more than one level layout and have complete control over where we place our enemies, platforms and rewards (coins). We'll explore a way to load in platforms and coins to collect from data
                      objects in the JSON format.</p>

                    <h2>Going over the Code<br></h2>
                    <p>The code for a minimal example of the code for adding levels using <span class="ins cts-1" data-username="Rhett" data-cid="3" data-userid="rbohling" data-time="1572078295224" title="">JSON</span><span class="del cts-1"
                        data-username="Rhett" data-cid="2" data-userid="rbohling" data-time="1572078295221" title="">json</span> data format here <span class="del cts-1" data-username="Rhett" data-cid="7" data-userid="rbohling"
                        data-time="1572078855158" title="">- https://glitch.com/edit/#!/game-mechanic-more-levels?path=game.js</span><span class="ins cts-1" data-username="Rhett" data-cid="8" data-userid="rbohling" data-time="1572078855158"
                        title=""><a href="here.">- https://glitch.com/edit/#!/game-mechanic-more-levels?path=game.js</a></span><br></p>
                    <p>Create a variable in the list of global variables at the start of our code called level data</p>
                    <pre>  var leveldata; </pre>
                    <p>Now create some data in the JSON style format. We could have these in external files but we'll keep them in our game.js file to reduce the complexity of this example. All we need to know right now is we are using this approach
                      to store the data for where our coins and platforms are. The JSON format is explained in more detail here <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON">
                        https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON</a>.</p>
                    <p>We can have a look at our entry for level one below.</p>
                    <pre>var level1 = {"platforms":[{"image":"ground","x":0,"y":325},{"image":"grass:4x1","x":150,"y":240},{"image":"grass:4x1","x":250,"y":160}],
                 "coins":[{"image":"coin","x":0,"y":225},{"image":"coin","x":150,"y":200}]    </pre>
                    <p>This data contains two main sections, one for platforms and one for coins. Within those parts, there is an entry for the image name (which was defined in preload), and where it will appear on the screen. There is one
                      for each level we want.</p>
                    <p>The next relevant bit of code is to choose which level</p>
                    <pre>  if (!currentLevel ||  currentLevel ===1){
    leveldata = level1;
  }
    else if (currentLevel === 2 ){
    leveldata = level2;
  }
</pre>
                    <p>When generating the game area in creating we have added two loops to loop through each of lists of sprites, add them to the screen and add them to the relevant group. </p>
                    <pre>  for (var i = 0; i &lt; leveldata.platforms.length; i++) {
    var platform = platforms.create(leveldata.platforms[i].x, leveldata.platforms[i].y, leveldata.platforms[i].image);
    platform.body.immovable = true;
    var coin =coins.create(leveldata.coins[i].x, leveldata.coins[i].y, leveldata.coins[i].image);
  }</pre>That's it. We hope you enjoy adding this game element to your game.<br>



                  </div>



                </div>


              </div>
            </div>
          </div>

        </div>


</body>

</html>
